function string_to_slug(e){e=e.replace(/^\s+|\s+$/g,""),e=e.toLowerCase();for(var t="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",n="aaaaeeeeiiiioooouuuunc------",a=0,s=t.length;s>a;a++)e=e.replace(RegExp(t.charAt(a),"g"),n.charAt(a));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}(function(e,t){function n(t,n){var s,i,r,o=t.nodeName.toLowerCase();return"area"===o?(s=t.parentNode,i=s.name,t.href&&i&&"map"===s.nodeName.toLowerCase()?(r=e("img[usemap=#"+i+"]")[0],!!r&&a(r)):!1):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||n:n)&&a(t)}function a(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,i=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,a){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),a&&a.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var a,s,i=e(this[0]);i.length&&i[0]!==document;){if(a=i.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(s=parseInt(i.css("zIndex"),10),!isNaN(s)&&0!==s))return s;i=i.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){i.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,a){return!!e.data(t,a[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var a=e.attr(t,"tabindex"),s=isNaN(a);return(s||a>=0)&&n(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,a){function s(t,n,a,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,a&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i="Width"===a?["Left","Right"]:["Top","Bottom"],r=a.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+a]=function(n){return n===t?o["inner"+a].call(this):this.each(function(){e(this).css(r,s(this,n)+"px")})},e.fn["outer"+a]=function(t,n){return"number"!=typeof t?o["outer"+a].call(this,t):this.each(function(){e(this).css(r,s(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,a){var s,i=e.ui[t].prototype;for(s in a)i.plugins[s]=i.plugins[s]||[],i.plugins[s].push([n,a[s]])},call:function(e,t,n){var a,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(a=0;s.length>a;a++)e.options[s[a][0]]&&s[a][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var a=n&&"left"===n?"scrollLeft":"scrollTop",s=!1;return t[a]>0?!0:(t[a]=1,s=t[a]>0,t[a]=0,s)}})})(jQuery),function(e,t){var n=0,a=Array.prototype.slice,s=e.cleanData;e.cleanData=function(t){for(var n,a=0;null!=(n=t[a]);a++)try{e(n).triggerHandler("remove")}catch(i){}s(t)},e.widget=function(n,a,s){var i,r,o,l,c={},u=n.split(".")[0];n=n.split(".")[1],i=u+"-"+n,s||(s=a,a=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[u]=e[u]||{},r=e[u][n],o=e[u][n]=function(e,n){return this._createWidget?(arguments.length&&this._createWidget(e,n),t):new o(e,n)},e.extend(o,r,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),l=new a,l.options=e.widget.extend({},l.options),e.each(s,function(n,s){return e.isFunction(s)?(c[n]=function(){var e=function(){return a.prototype[n].apply(this,arguments)},t=function(e){return a.prototype[n].apply(this,e)};return function(){var n,a=this._super,i=this._superApply;return this._super=e,this._superApply=t,n=s.apply(this,arguments),this._super=a,this._superApply=i,n}}(),t):(c[n]=s,t)}),o.prototype=e.widget.extend(l,{widgetEventPrefix:r?l.widgetEventPrefix:n},c,{constructor:o,namespace:u,widgetName:n,widgetFullName:i}),r?(e.each(r._childConstructors,function(t,n){var a=n.prototype;e.widget(a.namespace+"."+a.widgetName,o,n._proto)}),delete r._childConstructors):a._childConstructors.push(o),e.widget.bridge(n,o)},e.widget.extend=function(n){for(var s,i,r=a.call(arguments,1),o=0,l=r.length;l>o;o++)for(s in r[o])i=r[o][s],r[o].hasOwnProperty(s)&&i!==t&&(n[s]=e.isPlainObject(i)?e.isPlainObject(n[s])?e.widget.extend({},n[s],i):e.widget.extend({},i):i);return n},e.widget.bridge=function(n,s){var i=s.prototype.widgetFullName||n;e.fn[n]=function(r){var o="string"==typeof r,l=a.call(arguments,1),c=this;return r=!o&&l.length?e.widget.extend.apply(null,[r].concat(l)):r,o?this.each(function(){var a,s=e.data(this,i);return s?e.isFunction(s[r])&&"_"!==r.charAt(0)?(a=s[r].apply(s,l),a!==s&&a!==t?(c=a&&a.jquery?c.pushStack(a.get()):a,!1):t):e.error("no such method '"+r+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,i);t?t.option(r||{})._init():e.data(this,i,new s(r,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,a){a=e(a||this.defaultElement||this)[0],this.element=e(a),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),a!==this&&(e.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===a&&this.destroy()}}),this.document=e(a.style?a.ownerDocument:a.document||a),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,a){var s,i,r,o=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(o={},s=n.split("."),n=s.shift(),s.length){for(i=o[n]=e.widget.extend({},this.options[n]),r=0;s.length-1>r;r++)i[s[r]]=i[s[r]]||{},i=i[s[r]];if(n=s.pop(),a===t)return i[n]===t?null:i[n];i[n]=a}else{if(a===t)return this.options[n]===t?null:this.options[n];o[n]=a}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(n,a,s){var i,r=this;"boolean"!=typeof n&&(s=a,a=n,n=!1),s?(a=i=e(a),this.bindings=this.bindings.add(a)):(s=a,a=this.element,i=this.widget()),e.each(s,function(s,o){function l(){return n||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):t}"string"!=typeof o&&(l.guid=o.guid=o.guid||l.guid||e.guid++);var c=s.match(/^(\w+)\s*(.*)$/),u=c[1]+r.eventNamespace,h=c[2];h?i.delegate(h,u,l):a.bind(u,l)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?a[e]:e).apply(a,arguments)}var a=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,a){var s,i,r=this.options[t];if(a=a||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],i=n.originalEvent)for(s in i)s in n||(n[s]=i[s]);return this.element.trigger(n,a),!(e.isFunction(r)&&r.apply(this.element[0],[n].concat(a))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(a,s,i){"string"==typeof s&&(s={effect:s});var r,o=s?s===!0||"number"==typeof s?n:s.effect||n:t;s=s||{},"number"==typeof s&&(s={duration:s}),r=!e.isEmptyObject(s),s.complete=i,s.delay&&a.delay(s.delay),r&&e.effects&&e.effects.effect[o]?a[t](s):o!==t&&a[o]?a[o](s.duration,s.easing,i):a.queue(function(n){e(this)[t](),i&&i.call(a[0]),n()})}})}(jQuery),function(e){var t,n,a,s,i="ui-button ui-widget ui-state-default ui-corner-all",r="ui-state-hover ui-state-active ",o="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var t=e(this).find(":ui-button");setTimeout(function(){t.button("refresh")},1)},c=function(t){var n=t.name,a=t.form,s=e([]);return n&&(n=n.replace(/'/g,"\\'"),s=a?e(a).find("[name='"+n+"']"):e("[name='"+n+"']",t.ownerDocument).filter(function(){return!this.form})),s};e.widget("ui.button",{version:"1.10.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var r=this,o=this.options,u="checkbox"===this.type||"radio"===this.type,h=u?"":"ui-state-active",d="ui-state-focus";null===o.label&&(o.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){o.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){o.disabled||e(this).removeClass(h)}).bind("click"+this.eventNamespace,function(e){o.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){r.buttonElement.addClass(d)}).bind("blur"+this.eventNamespace,function(){r.buttonElement.removeClass(d)}),u&&(this.element.bind("change"+this.eventNamespace,function(){s||r.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){o.disabled||(s=!1,n=e.pageX,a=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){o.disabled||(n!==e.pageX||a!==e.pageY)&&(s=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return o.disabled||s?!1:undefined}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled||s)return!1;e(this).addClass("ui-state-active"),r.buttonElement.attr("aria-pressed","true");var t=r.element[0];c(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return o.disabled?!1:(e(this).addClass("ui-state-active"),t=this,r.document.one("mouseup",function(){t=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return o.disabled?!1:(e(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(t){return o.disabled?!1:((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",o.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(i+" "+r+" "+o).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(t?this.element.prop("disabled",!0):this.element.prop("disabled",!1),undefined):(this._resetButton(),undefined)},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?c(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),undefined;var t=this.buttonElement.removeClass(o),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),a=this.options.icons,s=a.primary&&a.secondary,i=[];a.primary||a.secondary?(this.options.text&&i.push("ui-button-text-icon"+(s?"s":a.primary?"-primary":"-secondary")),a.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+a.primary+"'></span>"),a.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+a.secondary+"'></span>"),this.options.text||(i.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):i.push("ui-button-text-only"),t.addClass(i.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery);var Handlebars={};(function(e,t){e.VERSION="1.0.0-rc.3",e.COMPILER_REVISION=2,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:">= 1.0.0-rc.3"},e.helpers={},e.partials={},e.registerHelper=function(e,t,n){n&&(t.not=n),this.helpers[e]=t},e.registerPartial=function(e,t){this.partials[e]=t},e.registerHelper("helperMissing",function(e){if(2===arguments.length)return t;throw Error("Could not find property '"+e+"'")});var n=Object.prototype.toString,a="[object Function]";e.registerHelper("blockHelperMissing",function(t,s){var i=s.inverse||function(){},r=s.fn,o=n.call(t);return o===a&&(t=t.call(this)),t===!0?r(this):t===!1||null==t?i(this):"[object Array]"===o?t.length>0?e.helpers.each(t,s):i(this):r(t)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;return e.K.prototype=null,n},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,n){if(t>=e.logger.level){var a=e.logger.methodMap[t];"undefined"!=typeof console&&console[a]&&console[a].call(console,n)}}},e.log=function(t,n){e.logger.log(t,n)},e.registerHelper("each",function(t,n){var a,s=n.fn,i=n.inverse,r=0,o="";if(n.data&&(a=e.createFrame(n.data)),t&&"object"==typeof t)if(t instanceof Array)for(var l=t.length;l>r;r++)a&&(a.index=r),o+=s(t[r],{data:a});else for(var c in t)t.hasOwnProperty(c)&&(a&&(a.key=c),o+=s(t[c],{data:a}),r++);return 0===r&&(o=i(this)),o}),e.registerHelper("if",function(t,s){var i=n.call(t);return i===a&&(t=t.call(this)),!t||e.Utils.isEmpty(t)?s.inverse(this):s.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn})}),e.registerHelper("with",function(e,t){return t.fn(e)}),e.registerHelper("log",function(t,n){var a=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(a,t)});var s=function(){function e(){this.yy={}}var n={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,partialName:25,params:26,hash:27,DATA:28,param:29,STRING:30,INTEGER:31,BOOLEAN:32,hashSegments:33,hashSegment:34,ID:35,EQUALS:36,PARTIAL_NAME:37,pathSegments:38,SEP:39,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"DATA",30:"STRING",31:"INTEGER",32:"BOOLEAN",35:"ID",36:"EQUALS",37:"PARTIAL_NAME",39:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[26,2],[26,1],[29,1],[29,1],[29,1],[29,1],[29,1],[27,1],[33,2],[33,1],[34,3],[34,3],[34,3],[34,3],[34,3],[25,1],[21,1],[38,3],[38,1]],performAction:function(e,t,n,a,s,i){var r=i.length-1;switch(s){case 1:return i[r-1];case 2:this.$=new a.ProgramNode([],i[r]);break;case 3:this.$=new a.ProgramNode(i[r-2],i[r]);break;case 4:this.$=new a.ProgramNode(i[r-1],[]);break;case 5:this.$=new a.ProgramNode(i[r]);break;case 6:this.$=new a.ProgramNode([],[]);break;case 7:this.$=new a.ProgramNode([]);break;case 8:this.$=[i[r]];break;case 9:i[r-1].push(i[r]),this.$=i[r-1];break;case 10:this.$=new a.BlockNode(i[r-2],i[r-1].inverse,i[r-1],i[r]);break;case 11:this.$=new a.BlockNode(i[r-2],i[r-1],i[r-1].inverse,i[r]);break;case 12:this.$=i[r];break;case 13:this.$=i[r];break;case 14:this.$=new a.ContentNode(i[r]);break;case 15:this.$=new a.CommentNode(i[r]);break;case 16:this.$=new a.MustacheNode(i[r-1][0],i[r-1][1]);break;case 17:this.$=new a.MustacheNode(i[r-1][0],i[r-1][1]);break;case 18:this.$=i[r-1];break;case 19:this.$=new a.MustacheNode(i[r-1][0],i[r-1][1]);break;case 20:this.$=new a.MustacheNode(i[r-1][0],i[r-1][1],!0);break;case 21:this.$=new a.PartialNode(i[r-1]);break;case 22:this.$=new a.PartialNode(i[r-2],i[r-1]);break;case 23:break;case 24:this.$=[[i[r-2]].concat(i[r-1]),i[r]];break;case 25:this.$=[[i[r-1]].concat(i[r]),null];break;case 26:this.$=[[i[r-1]],i[r]];break;case 27:this.$=[[i[r]],null];break;case 28:this.$=[[new a.DataNode(i[r])],null];break;case 29:i[r-1].push(i[r]),this.$=i[r-1];break;case 30:this.$=[i[r]];break;case 31:this.$=i[r];break;case 32:this.$=new a.StringNode(i[r]);break;case 33:this.$=new a.IntegerNode(i[r]);break;case 34:this.$=new a.BooleanNode(i[r]);break;case 35:this.$=new a.DataNode(i[r]);break;case 36:this.$=new a.HashNode(i[r]);break;case 37:i[r-1].push(i[r]),this.$=i[r-1];break;case 38:this.$=[i[r]];break;case 39:this.$=[i[r-2],i[r]];break;case 40:this.$=[i[r-2],new a.StringNode(i[r])];break;case 41:this.$=[i[r-2],new a.IntegerNode(i[r])];break;case 42:this.$=[i[r-2],new a.BooleanNode(i[r])];break;case 43:this.$=[i[r-2],new a.DataNode(i[r])];break;case 44:this.$=new a.PartialNameNode(i[r]);break;case 45:this.$=new a.IdNode(i[r]);break;case 46:i[r-2].push(i[r]),this.$=i[r-2];break;case 47:this.$=[i[r]]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],24:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],24:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],24:[1,16]},{17:23,18:[1,22],21:24,28:[1,25],35:[1,27],38:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{4:28,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{17:30,21:24,28:[1,25],35:[1,27],38:26},{17:31,21:24,28:[1,25],35:[1,27],38:26},{17:32,21:24,28:[1,25],35:[1,27],38:26},{25:33,37:[1,34]},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],24:[1,16]},{17:23,21:24,28:[1,25],35:[1,27],38:26},{5:[2,4],7:35,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],24:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],24:[2,23]},{18:[1,36]},{18:[2,27],21:41,26:37,27:38,28:[1,45],29:39,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,28]},{18:[2,45],28:[2,45],30:[2,45],31:[2,45],32:[2,45],35:[2,45],39:[1,48]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],39:[2,47]},{10:49,20:[1,50]},{10:51,20:[1,50]},{18:[1,52]},{18:[1,53]},{18:[1,54]},{18:[1,55],21:56,35:[1,27],38:26},{18:[2,44],35:[2,44]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],24:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{18:[2,25],21:41,27:57,28:[1,45],29:58,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,26]},{18:[2,30],28:[2,30],30:[2,30],31:[2,30],32:[2,30],35:[2,30]},{18:[2,36],34:59,35:[1,60]},{18:[2,31],28:[2,31],30:[2,31],31:[2,31],32:[2,31],35:[2,31]},{18:[2,32],28:[2,32],30:[2,32],31:[2,32],32:[2,32],35:[2,32]},{18:[2,33],28:[2,33],30:[2,33],31:[2,33],32:[2,33],35:[2,33]},{18:[2,34],28:[2,34],30:[2,34],31:[2,34],32:[2,34],35:[2,34]},{18:[2,35],28:[2,35],30:[2,35],31:[2,35],32:[2,35],35:[2,35]},{18:[2,38],35:[2,38]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],36:[1,61],39:[2,47]},{35:[1,62]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{21:63,35:[1,27],38:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],24:[2,21]},{18:[1,64]},{18:[2,24]},{18:[2,29],28:[2,29],30:[2,29],31:[2,29],32:[2,29],35:[2,29]},{18:[2,37],35:[2,37]},{36:[1,61]},{21:65,28:[1,69],30:[1,66],31:[1,67],32:[1,68],35:[1,27],38:26},{18:[2,46],28:[2,46],30:[2,46],31:[2,46],32:[2,46],35:[2,46],39:[2,46]},{18:[1,70]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],24:[2,22]},{18:[2,39],35:[2,39]},{18:[2,40],35:[2,40]},{18:[2,41],35:[2,41]},{18:[2,42],35:[2,42]},{18:[2,43],35:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]}],defaultActions:{17:[2,1],25:[2,28],38:[2,26],57:[2,24]},parseError:function(e){throw Error(e)},parse:function(e){function n(){var e;return e=a.lexer.lex()||1,"number"!=typeof e&&(e=a.symbols_[e]||e),e}var a=this,s=[0],i=[null],r=[],o=this.table,l="",c=0,u=0,h=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,this.lexer.yylloc===t&&(this.lexer.yylloc={});var d=this.lexer.yylloc;r.push(d);var f=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,g,m,b,S,v,y,C,_,T={};;){if(m=s[s.length-1],this.defaultActions[m]?b=this.defaultActions[m]:((null===p||p===t)&&(p=n()),b=o[m]&&o[m][p]),b===t||!b.length||!b[0]){var D="";if(!h){_=[];for(v in o[m])this.terminals_[v]&&v>2&&_.push("'"+this.terminals_[v]+"'");D=this.lexer.showPosition?"Parse error on line "+(c+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+_.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(c+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(D,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:d,expected:_})}}if(b[0]instanceof Array&&b.length>1)throw Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(b[0]){case 1:s.push(p),i.push(this.lexer.yytext),r.push(this.lexer.yylloc),s.push(b[1]),p=null,g?(p=g,g=null):(u=this.lexer.yyleng,l=this.lexer.yytext,c=this.lexer.yylineno,d=this.lexer.yylloc,h>0&&h--);break;case 2:if(y=this.productions_[b[1]][1],T.$=i[i.length-y],T._$={first_line:r[r.length-(y||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(y||1)].first_column,last_column:r[r.length-1].last_column},f&&(T._$.range=[r[r.length-(y||1)].range[0],r[r.length-1].range[1]]),S=this.performAction.call(T,l,u,c,this.yy,b[1],i,r),S!==t)return S;y&&(s=s.slice(0,2*-1*y),i=i.slice(0,-1*y),r=r.slice(0,-1*y)),s.push(this.productions_[b[1]][0]),i.push(T.$),r.push(T._$),C=o[s[s.length-2]][s[s.length-1]],s.push(C);break;case 3:return!0}}return!0}},a=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===a.length?this.yylloc.first_column:0)+a[a.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return 20>e.length&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,n,a,s,i;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),o=0;r.length>o&&(a=this._input.match(this.rules[r[o]]),!a||n&&!(a[0].length>n[0].length)||(n=a,s=o,this.options.flex));o++);return n?(i=n[0].match(/(?:\r\n?|\n).*/g),i&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+n[0].length},this.yytext+=n[0],this.match+=n[0],this.matches=n,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(n[0].length),this.matched+=n[0],e=this.performAction.call(this,this.yy,this,r[s],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:t):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})
},lex:function(){var e=this.next();return e!==t?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,a){switch(n){case 0:if("\\"!==t.yytext.slice(-1)&&this.begin("mu"),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1),this.begin("emu")),t.yytext)return 14;break;case 1:return 14;case 2:return"\\"!==t.yytext.slice(-1)&&this.popState(),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1)),14;case 3:return t.yytext=t.yytext.substr(0,t.yyleng-4),this.popState(),15;case 4:return this.begin("par"),24;case 5:return 16;case 6:return 20;case 7:return 19;case 8:return 19;case 9:return 23;case 10:return 23;case 11:this.popState(),this.begin("com");break;case 12:return t.yytext=t.yytext.substr(3,t.yyleng-5),this.popState(),15;case 13:return 22;case 14:return 36;case 15:return 35;case 16:return 35;case 17:return 39;case 18:break;case 19:return this.popState(),18;case 20:return this.popState(),18;case 21:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),30;case 22:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\'/g,"'"),30;case 23:return t.yytext=t.yytext.substr(1),28;case 24:return 32;case 25:return 32;case 26:return 31;case 27:return 35;case 28:return t.yytext=t.yytext.substr(1,t.yyleng-2),35;case 29:return"INVALID";case 30:break;case 31:return this.popState(),37;case 32:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[} ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:\s+)/,/^(?:[a-zA-Z0-9_$-/]+)/,/^(?:$)/],e.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},par:{rules:[30,31],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},e}();return n.lexer=a,e.prototype=n,n.Parser=e,new e}();e.Parser=s,e.parse=function(t){return t.constructor===e.AST.ProgramNode?t:(e.Parser.yy=e.AST,e.Parser.parse(t))},e.AST={},e.AST.ProgramNode=function(t,n){this.type="program",this.statements=t,n&&(this.inverse=new e.AST.ProgramNode(n))},e.AST.MustacheNode=function(e,t,n){this.type="mustache",this.escaped=!n,this.hash=t;var a=this.id=e[0],s=this.params=e.slice(1),i=this.eligibleHelper=a.isSimple;this.isHelper=i&&(s.length||t)},e.AST.PartialNode=function(e,t){this.type="partial",this.partialName=e,this.context=t},e.AST.BlockNode=function(t,n,a,s){var i=function(t,n){if(t.original!==n.original)throw new e.Exception(t.original+" doesn't match "+n.original)};i(t.id,s),this.type="block",this.mustache=t,this.program=n,this.inverse=a,this.inverse&&!this.program&&(this.isInverse=!0)},e.AST.ContentNode=function(e){this.type="content",this.string=e},e.AST.HashNode=function(e){this.type="hash",this.pairs=e},e.AST.IdNode=function(t){this.type="ID",this.original=t.join(".");for(var n=[],a=0,s=0,i=t.length;i>s;s++){var r=t[s];if(".."===r||"."===r||"this"===r){if(n.length>0)throw new e.Exception("Invalid path: "+this.original);".."===r?a++:this.isScoped=!0}else n.push(r)}this.parts=n,this.string=n.join("."),this.depth=a,this.isSimple=1===t.length&&!this.isScoped&&0===a,this.stringModeValue=this.string},e.AST.PartialNameNode=function(e){this.type="PARTIAL_NAME",this.name=e},e.AST.DataNode=function(e){this.type="DATA",this.id=e},e.AST.StringNode=function(e){this.type="STRING",this.string=e,this.stringModeValue=e},e.AST.IntegerNode=function(e){this.type="INTEGER",this.integer=e,this.stringModeValue=Number(e)},e.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},e.AST.CommentNode=function(e){this.type="comment",this.comment=e};var i=["description","fileName","lineNumber","message","name","number","stack"];e.Exception=function(){for(var e=Error.prototype.constructor.apply(this,arguments),t=0;i.length>t;t++)this[i[t]]=e[i[t]]},e.Exception.prototype=Error(),e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return""+this.string};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=/[&<>"'`]/g,l=/[&<>"'`]/,c=function(e){return r[e]||"&amp;"};e.Utils={escapeExpression:function(t){return t instanceof e.SafeString?""+t:null==t||t===!1?"":l.test(t)?t.replace(o,c):t},isEmpty:function(e){return e||0===e?"[object Array]"===n.call(e)&&0===e.length?!0:!1:!0}};var u=e.Compiler=function(){},h=e.JavaScriptCompiler=function(){};u.prototype={compiler:u,disassemble:function(){for(var e,t,n,a=this.opcodes,s=[],i=0,r=a.length;r>i;i++)if(e=a[i],"DECLARE"===e.opcode)s.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var o=0;e.args.length>o;o++)n=e.args[o],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),t.push(n);s.push(e.opcode+" "+t.join(" "))}return s.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;t>n;n++){var a=this.opcodes[n],s=e.opcodes[n];if(a.opcode!==s.opcode||a.args.length!==s.args.length)return!1;for(var i=0;a.args.length>i;i++)if(a.args[i]!==s.args[i])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(n=0;t>n;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var a in n)this.options.knownHelpers[a]=n[a];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t,n=e.statements;this.opcodes=[];for(var a=0,s=n.length;s>a;a++)t=n[a],this[t.type](t);return this.isSimple=1===s,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,n=(new this.compiler).compile(e,this.options),a=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[a]=n;for(var s=0,i=n.depths.list.length;i>s;s++)t=n.depths.list[s],2>t||this.addDepth(t-1);return a},block:function(e){var t=e.mustache,n=e.program,a=e.inverse;n&&(n=this.compileProgram(n)),a&&(a=this.compileProgram(a));var s=this.classifyMustache(t);"helper"===s?this.helperMustache(t,n,a):"simple"===s?(this.simpleMustache(t),this.opcode("pushProgram",n),this.opcode("pushProgram",a),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(t,n,a),this.opcode("pushProgram",n),this.opcode("pushProgram",a),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,n,a=e.pairs;this.opcode("pushHash");for(var s=0,i=a.length;i>s;s++)t=a[s],n=t[1],this.options.stringParams?this.opcode("pushStringParam",n.stringModeValue,n.type):this.accept(n),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.options,n=this.classifyMustache(e);"simple"===n?this.simpleMustache(e):"helper"===n?this.helperMustache(e):this.ambiguousMustache(e),e.escaped&&!t.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(e,t,n){var a=e.id,s=a.parts[0],i=null!=t||null!=n;this.opcode("getContext",a.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",s,i)},simpleMustache:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(e,t,n){var a=this.setupFullMustacheParams(e,t,n),s=e.id.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",a.length,s);else{if(this.knownHelpersOnly)throw Error("You specified knownHelpersOnly, but used the unknown helper "+s);this.opcode("invokeHelper",a.length,s)}},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,a=e.parts.length;a>n;n++)this.opcode("lookup",e.parts[n])},DATA:function(e){this.options.data=!0,this.opcode("lookupData",e.id)},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){if(isNaN(e))throw Error("EWOT");0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifyMustache:function(e){var t=e.isHelper,n=e.eligibleHelper,a=this.options;if(n&&!t){var s=e.id.parts[0];a.knownHelpers[s]?t=!0:a.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t,n=e.length;n--;)t=e[n],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type)):this[t.type](t)},setupMustacheParams:function(e){var t=e.params;return this.pushParams(t),e.hash?this.hash(e.hash):this.opcode("emptyHash"),t},setupFullMustacheParams:function(e,t,n){var a=e.params;return this.pushParams(a),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),a}};var d=function(e){this.value=e};h.prototype={nameLookup:function(e,t){return/^[0-9]+$/.test(t)?e+"["+t+"]":h.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,n,a,s){this.environment=t,this.options=n||{},e.log(e.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!a,this.context=a||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(t,n);var i,r=t.opcodes;for(this.i=0,m=r.length;m>this.i;this.i++)i=r[this.i],"DECLARE"===i.opcode?this[i.name]=i.value:this[i.opcode].apply(this,i.args);return this.createFunctionContext(s)},nextOpcode:function(){var e=this.environment.opcodes;return e[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,n="helpers = helpers || "+t+".helpers;";this.environment.usePartial&&(n=n+" partials = partials || "+t+".partials;"),this.options.data&&(n+=" data = data || {};"),e.push(n)}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(t){var n=this.stackVars.concat(this.registers.list);if(n.length>0&&(this.source[1]=this.source[1]+", "+n.join(", ")),!this.isChild)for(var a in this.context.aliases)this.source[1]=this.source[1]+", "+a+"="+this.context.aliases[a];this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var s=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],i=0,r=this.environment.depths.list.length;r>i;i++)s.push("depth"+this.environment.depths.list[i]);var o=this.mergeSource();if(!this.isChild){var l=e.COMPILER_REVISION,c=e.REVISION_CHANGES[l];o="this.compilerInfo = ["+l+",'"+c+"'];\n"+o}if(t)return s.push(o),Function.apply(this,s);var u="function "+(this.name||"")+"("+s.join(",")+") {\n  "+o+"}";return e.log(e.logger.DEBUG,u+"\n\n"),u},mergeSource:function(){for(var e,n="",a=0,s=this.source.length;s>a;a++){var i=this.source[a];i.appendToBuffer?e=e?e+"\n    + "+i.content:i.content:(e&&(n+="buffer += "+e+";\n  ",e=t),n+=i+"\n  ")}return n},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),e[e.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){this.flushInline();var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(e){this.push(this.nameLookup("data",e,"data"))},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"string"==typeof e?this.pushString(e):this.pushStackLiteral(e)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&this.register("hashTypes","{}")},pushHash:function(){this.hash={values:[],types:[]}},popHash:function(){var e=this.hash;this.hash=t,this.options.stringParams&&this.register("hashTypes","{"+e.types.join(",")+"}"),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t){this.context.aliases.helperMissing="helpers.helperMissing";var n=this.lastHelper=this.setupHelper(e,t,!0);this.push(n.name),this.replaceStack(function(e){return e+" ? "+e+".call("+n.callParams+") "+": helperMissing.call("+n.helperMissingParams+")"})},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var n=this.setupHelper(0,e,t),a=this.lastHelper=this.nameLookup("helpers",e,"helper"),s=this.nameLookup("depth"+this.lastContext,e,"context"),i=this.nextStack();this.source.push("if ("+i+" = "+a+") { "+i+" = "+i+".call("+n.callParams+"); }"),this.source.push("else { "+i+" = "+s+"; "+i+" = typeof "+i+" === functionType ? "+i+".apply(depth0) : "+i+"; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,n=this.popStack();this.options.stringParams&&(t=this.popStack(),this.popStack());var a=this.hash;t&&a.types.push("'"+e+"': "+t),a.values.push("'"+e+"': ("+n+")")},compiler:h,compileChildren:function(e,t){for(var n,a,s=e.children,i=0,r=s.length;r>i;i++){n=s[i],a=new this.compiler;var o=this.matchExistingProgram(n);null==o?(this.context.programs.push(""),o=this.context.programs.length,n.index=o,n.name="program"+o,this.context.programs[o]=a.compile(n,t,this.context),this.context.environments[o]=n):(n.index=o,n.name="program"+o)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;n>t;t++){var a=this.context.environments[t];if(a&&a.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,n=this.environment.children[e],a=n.depths.list,s=[n.index,n.name,"data"],i=0,r=a.length;r>i;i++)t=a[i],1===t?s.push("depth0"):s.push("depth"+(t-1));return 0===a.length?"self.program("+s.join(", ")+")":(s.shift(),"self.programWithDepth("+s.join(", ")+")")},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new d(e))},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.source.push(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,n="",a=this.isInline();if(a){var s=this.popStack(!0);if(s instanceof d)t=s.value;else{var i=this.stackSlot?this.topStackName():this.incrStack();n="("+this.push(i)+" = "+s+"),",t=this.topStack()}}else t=this.topStack();var r=e.call(this,t);return a?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+n+r+")")):(/^stack/.test(t)||(t=this.nextStack()),this.source.push(t+" = ("+n+r+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,n=e.length;n>t;t++){var a=e[t];a instanceof d?this.compileStack.push(a):this.pushStack(a)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();return!e&&n instanceof d?n.value:(t||this.stackSlot--,n)},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];return!e&&n instanceof d?n.value:n},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'},setupHelper:function(e,t,n){var a=[];this.setupParams(e,a,n);var s=this.nameLookup("helpers",t,"helper");return{params:a,name:s,callParams:["depth0"].concat(a).join(", "),helperMissingParams:n&&["depth0",this.quotedString(t)].concat(a).join(", ")}},setupParams:function(e,t,n){var a,s,i,r=[],o=[],l=[];r.push("hash:"+this.popStack()),s=this.popStack(),i=this.popStack(),(i||s)&&(i||(this.context.aliases.self="this",i="self.noop"),s||(this.context.aliases.self="this",s="self.noop"),r.push("inverse:"+s),r.push("fn:"+i));for(var c=0;e>c;c++)a=this.popStack(),t.push(a),this.options.stringParams&&(l.push(this.popStack()),o.push(this.popStack()));return this.options.stringParams&&(r.push("contexts:["+o.join(",")+"]"),r.push("types:["+l.join(",")+"]"),r.push("hashTypes:hashTypes")),this.options.data&&r.push("data:data"),r="{"+r.join(",")+"}",n?(this.register("options",r),t.push("options")):t.push(r),t.join(", ")}};for(var f="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),p=h.RESERVED_WORDS={},g=0,m=f.length;m>g;g++)p[f[g]]=!0;h.isValidJavaScriptVariableName=function(e){return!h.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1},e.precompile=function(t,n){if(!t||"string"!=typeof t&&t.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);n=n||{},"data"in n||(n.data=!0);var a=e.parse(t),s=(new u).compile(a,n);return(new h).compile(s,n)},e.compile=function(n,a){function s(){var s=e.parse(n),i=(new u).compile(s,a),r=(new h).compile(i,a,t,!0);return e.template(r)}if(!n||"string"!=typeof n&&n.constructor!==e.AST.ProgramNode)throw new e.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+n);a=a||{},"data"in a||(a.data=!0);var i;return function(e,t){return i||(i=s()),i.call(this,e,t)}},e.VM={template:function(t){var n={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,n,a){var s=this.programs[t];return a?e.VM.program(n,a):s?s:s=this.programs[t]=e.VM.program(n)},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(a,s){s=s||{};var i=t.call(n,e,a,s.helpers,s.partials,s.data),r=n.compilerInfo||[],o=r[0]||1,l=e.COMPILER_REVISION;if(o!==l){if(l>o){var c=e.REVISION_CHANGES[l],u=e.REVISION_CHANGES[o];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c+") or downgrade your runtime to an older version ("+u+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+r[1]+")."}return i}},programWithDepth:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(a,s){return s=s||{},e.apply(this,[a,s.data||t].concat(n))}},program:function(e,t){return function(n,a){return a=a||{},e(n,a.data||t)}},noop:function(){return""},invokePartial:function(n,a,s,i,r,o){var l={helpers:i,partials:r,data:o};if(n===t)throw new e.Exception("The partial "+a+" could not be found");if(n instanceof Function)return n(s,l);if(e.compile)return r[a]=e.compile(n,{data:o!==t}),r[a](s,l);throw new e.Exception("The partial "+a+" could not be compiled when running in runtime-only mode")}},e.template=e.VM.template})(Handlebars),function(e){e.fn.each2===void 0&&e.fn.extend({each2:function(t){for(var n=e([0]),a=-1,s=this.length;s>++a&&(n.context=n[0]=this[a])&&t.call(n[0],a,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(e,t){for(var n=0,s=t.length;s>n;n+=1)if(a(e,t[n]))return n;return-1}function a(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e===n+"":n.constructor===String?n===e+"":!1}function s(t,n){var a,s,i;if(null===t||1>t.length)return[];for(a=t.split(n),s=0,i=a.length;i>s;s+=1)a[s]=e.trim(a[s]);return a}function i(e){return e.outerWidth(!1)-e.width()}function r(n){var a="keyup-change-value";n.bind("keydown",function(){e.data(n,a)===t&&e.data(n,a,n.val())}),n.bind("keyup",function(){var s=e.data(n,a);s!==t&&n.val()!==s&&(e.removeData(n,a),n.trigger("keyup-change"))})}function o(n){n.bind("mousemove",function(n){var a=E;(a===t||a.x!==n.pageX||a.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function l(e,n,a){a=a||t;var s;return function(){var t=arguments;window.clearTimeout(s),s=window.setTimeout(function(){n.apply(a,t)},e)}}function c(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function u(e,t){var a=l(e,function(e){t.trigger("scroll-debounced",e)});t.bind("scroll",function(e){n(e.target,t.get())>=0&&a(e)})}function h(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],a=e.val().length;e.focus(),n.setSelectionRange?n.setSelectionRange(a,a):n.createTextRange&&(t=n.createTextRange(),t.collapse(!0),t.moveEnd("character",a),t.moveStart("character",a),t.select())},0)}function d(e){e.preventDefault(),e.stopPropagation()}function f(e){e.preventDefault(),e.stopImmediatePropagation()}function p(t){if(!P){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);P=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),P.attr("class","select2-sizer"),e("body").append(P)}return P.text(t.val()),P.width()}function g(t,n,a){var s,i,r=[];s=t.attr("class"),"string"==typeof s&&e(s.split(" ")).each2(function(){0===this.indexOf("select2-")&&r.push(this)}),s=n.attr("class"),"string"==typeof s&&e(s.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(i=a(this),"string"==typeof i&&i.length>0&&r.push(this))}),t.attr("class",r.join(" "))}function m(e,n,a,s){var i=e.toUpperCase().indexOf(n.toUpperCase()),r=n.length;return 0>i?(a.push(s(e)),t):(a.push(s(e.substring(0,i))),a.push("<span class='select2-match'>"),a.push(s(e.substring(i,i+r))),a.push("</span>"),a.push(s(e.substring(i+r,e.length))),t)}function b(t){var n,a=0,s=null,i=t.quietMillis||100,r=t.url,o=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){a+=1;var n=a,i=t.data,c=r,u=t.transport||e.ajax,h=t.type||"GET",d={};i=i?i.call(o,l.term,l.page,l.context):null,c="function"==typeof c?c.call(o,l.term,l.page,l.context):c,null!==s&&s.abort(),t.params&&(e.isFunction(t.params)?e.extend(d,t.params.call(o)):e.extend(d,t.params)),e.extend(d,{url:c,dataType:t.dataType,data:i,type:h,cache:!1,success:function(e){if(!(a>n)){var s=t.results(e,l.page);l.callback(s)}}}),s=u.call(o,d)},i)}}function S(n){var a,s,i=n,r=function(e){return""+e.text};e.isArray(i)&&(s=i,i={results:s}),e.isFunction(i)===!1&&(s=i,i=function(){return s});var o=i();return o.text&&(r=o.text,e.isFunction(r)||(a=i.text,r=function(e){return e[a]})),function(n){var a,s=n.term,o={results:[]};return""===s?(n.callback(i()),t):(a=function(t,i){var o,l;if(t=t[0],t.children){o={};for(l in t)t.hasOwnProperty(l)&&(o[l]=t[l]);o.children=[],e(t.children).each2(function(e,t){a(t,o.children)}),(o.children.length||n.matcher(s,r(o),t))&&i.push(o)}else n.matcher(s,r(t),t)&&i.push(t)},e(i().results).each2(function(e,t){a(t,o.results)}),n.callback(o),t)}}function v(n){var a=e.isFunction(n);return function(s){var i=s.term,r={results:[]};e(a?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===i||s.matcher(i,n))&&r.results.push(e?this:{id:this,text:this})}),s.callback(r)}}function y(t){if(e.isFunction(t))return!0;if(!t)return!1;throw Error("formatterName must be a function or a falsy value")}function C(t){return e.isFunction(t)?t():t}function _(t){var n=0;return e.each(t,function(e,t){t.children?n+=_(t.children):n++}),n}function T(e,n,s,i){var r,o,l,c,u,h=e,d=!1;if(!i.createSearchChoice||!i.tokenSeparators||1>i.tokenSeparators.length)return t;for(;;){for(o=-1,l=0,c=i.tokenSeparators.length;c>l&&(u=i.tokenSeparators[l],o=e.indexOf(u),!(o>=0));l++);if(0>o)break;if(r=e.substring(0,o),e=e.substring(o+u.length),r.length>0&&(r=i.createSearchChoice(r,n),r!==t&&null!==r&&i.id(r)!==t&&null!==i.id(r))){for(d=!1,l=0,c=n.length;c>l;l++)if(a(i.id(r),i.id(n[l]))){d=!0;break}d||s(r)}}return h!==e?e:t}function D(t,n){var a=function(){};return a.prototype=new t,a.prototype.constructor=a,a.prototype.parent=t.prototype,a.prototype=e.extend(a.prototype,n),a}if(window.Select2===t){var w,x,I,k,A,P,E,N;w={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case w.LEFT:case w.RIGHT:case w.UP:case w.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case w.SHIFT:case w.CTRL:case w.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},N=e(document),A=function(){var e=1;return function(){return e++}}(),N.bind("mousemove",function(e){E={x:e.pageX,y:e.pageY}}),x=D(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var a,s,i=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+A()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=c(function(){return n.element.closest("body")}),g(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(C(n.containerCss)),this.container.addClass(C(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabIndex"),this.opts.element.data("select2",this).addClass("select2-offscreen").bind("focus.select2",function(){e(this).select2("focus")}).attr("tabIndex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(C(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=a=this.container.find(i),this.search=s=this.container.find("input.select2-input"),s.attr("tabIndex",this.elementTabIndex),this.resultsPage=0,this.context=null,this.initContainer(),o(this.results),this.dropdown.delegate(i,"mousemove-filtered touchstart touchmove touchend",this.bind(this.highlightUnderEvent)),u(80,this.results),this.dropdown.delegate(i,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),e.fn.mousewheel&&a.mousewheel(function(e,t,n,s){var i=a.scrollTop();s>0&&0>=i-s?(a.scrollTop(0),d(e)):0>s&&a.get(0).scrollHeight-a.scrollTop()+s<=a.height()&&(a.scrollTop(a.get(0).scrollHeight-a.height()),d(e))}),r(s),s.bind("keyup-change input paste",this.bind(this.updateResults)),s.bind("focus",function(){s.addClass("select2-focused")}),s.bind("blur",function(){s.removeClass("select2-focused")}),this.dropdown.delegate(i,"mouseup",this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.bind("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(n.element.is(":disabled")||n.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var e=this.opts.element.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),e!==t&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeClass("select2-offscreen").removeData("select2").unbind(".select2").attr({tabIndex:this.elementTabIndex}).show())},prepareOpts:function(n){var i,r,o,l;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=r=n.element),r&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(a,s,i){var r,o=this.opts.id,l=this;r=function(a,s,c){var u,h,d,f,p,g,m,b,S,v;for(a=n.sortResults(a,s,i),u=0,h=a.length;h>u;u+=1)d=a[u],p=d.disabled===!0,f=!p&&o(d)!==t,g=d.children&&d.children.length>0,m=e("<li></li>"),m.addClass("select2-results-dept-"+c),m.addClass("select2-result"),m.addClass(f?"select2-result-selectable":"select2-result-unselectable"),p&&m.addClass("select2-disabled"),g&&m.addClass("select2-result-with-children"),m.addClass(l.opts.formatResultCssClass(d)),b=e(document.createElement("div")),b.addClass("select2-result-label"),v=n.formatResult(d,b,i,l.opts.escapeMarkup),v!==t&&b.html(v),m.append(b),g&&(S=e("<ul></ul>"),S.addClass("select2-result-sub"),r(d.children,S,c+1),m.append(S)),m.data("select2-data",d),s.append(m)
},r(s,a,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(o=n.id,n.id=function(e){return e[o]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.attr("data-select2-tags")}if(r?(n.query=this.bind(function(n){var s,r,o,l={results:[],more:!1},c=n.term;o=function(e,t){var s;e.is("option")?n.matcher(c,e.text(),e)&&t.push({id:e.attr("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:a(e.attr("disabled"),"disabled")}):e.is("optgroup")&&(s={text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")},e.children().each2(function(e,t){o(t,s.children)}),s.children.length>0&&t.push(s))},s=i.children(),this.getPlaceholder()!==t&&s.length>0&&(r=s[0],""===e(r).text()&&(s=s.not(r))),s.each2(function(e,t){o(t,l.results)}),n.callback(l)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=b.call(n.element,n.ajax)):"data"in n?n.query=S(n.data):"tags"in n&&(n.query=v(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(e){return{id:e,text:e}}),n.initSelection===t&&(n.initSelection=function(i,r){var o=[];e(s(i.val(),n.separator)).each(function(){var s=this,i=this,r=n.tags;e.isFunction(r)&&(r=r()),e(r).each(function(){return a(this.id,s)?(i=this.text,!1):t}),o.push({id:s,text:i})}),r(o)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e,t=this.opts.element;t.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e,t;e="disabled"!==this.opts.element.attr("disabled"),t="readonly"===this.opts.element.attr("readonly"),e=e&&!t,this.enabled!==e&&(e?this.enable():this.disable()),g(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(C(this.opts.containerCssClass)),g(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(C(this.opts.dropdownCssClass))}),t.bind("propertychange.select2 DOMAttrModified.select2",e),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(function(t){t.forEach(e)}),this.propertyObserver.observe(t.get(0),{attributes:!0,subtree:!1}))},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"),this.opts.element.removeAttr("disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"),this.opts.element.attr("disabled","disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,a,s=this.container.offset(),i=this.container.outerHeight(!1),r=this.container.outerWidth(!1),o=this.dropdown.outerHeight(!1),l=e(window).scrollLeft()+e(window).width(),c=e(window).scrollTop()+e(window).height(),u=s.top+i,h=s.left,d=c>=u+o,f=s.top-o>=this.body().scrollTop(),p=this.dropdown.outerWidth(!1),g=l>=h+p,m=this.dropdown.hasClass("select2-drop-above");"static"!==this.body().css("position")&&(t=this.body().offset(),u-=t.top,h-=t.left),m?(n=!0,!f&&d&&(n=!1)):(n=!1,!d&&f&&(n=!0)),g||(h=s.left+r-p),n?(u=s.top-o,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),a=e.extend({top:u,left:h,width:r},C(this.opts.dropdownCss)),this.dropdown.css(a)},shouldOpen:function(){var t;return this.opened()?!1:(t=e.Event("opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){var t,n=this.containerId,a="scroll."+n,s="resize."+n,i="orientationchange."+n;this.clearDropdownAlignmentPreference(),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.updateResults(!0),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body()),t.bind("mousedown touchstart",function(){var t,n=e("#select2-drop");n.length>0&&(t=n.data("select2"),t.opts.selectOnBlur&&t.selectHighlighted({noFocus:!0}),t.close())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.css({width:document.documentElement.scrollWidth,height:document.documentElement.scrollHeight}),t.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible();var r=this;this.container.parents().add(window).each(function(){e(this).bind(s+" "+a+" "+i,function(){e("#select2-drop-mask").css({width:document.documentElement.scrollWidth,height:document.documentElement.scrollHeight}),r.positionDropdown()})}),this.focusSearch()},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,a="resize."+t,s="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).unbind(n).unbind(a).unbind(s)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.opts.element.trigger(e.Event("close"))}},clearSearch:function(){},getMaximumSelectionSize:function(){return C(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var n,a,s,i,r,o,l,c=this.results;if(a=this.highlight(),!(0>a)){if(0==a)return c.scrollTop(0),t;n=this.findHighlightableChoices(),s=e(n[a]),i=s.offset().top+s.outerHeight(!0),a===n.length-1&&(l=c.find("li.select2-more-results"),l.length>0&&(i=l.offset().top+l.outerHeight(!0))),r=c.offset().top+c.outerHeight(!0),i>r&&c.scrollTop(c.scrollTop()+(i-r)),o=s.offset().top-c.offset().top,0>o&&"none"!=s.css("display")&&c.scrollTop(c.scrollTop()+o)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)"),this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),a=this.highlight();a>-1&&n.length>a;){a+=t;var s=e(n[a]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")&&!s.hasClass("select2-selected")){this.highlight(a);break}}},highlight:function(a){var s,i,r=this.findHighlightableChoices();return 0===arguments.length?n(r.filter(".select2-highlighted")[0],r.get()):(a>=r.length&&(a=r.length-1),0>a&&(a=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),s=e(r[a]),s.addClass("select2-highlighted"),this.ensureHighlightVisible(),i=s.data("select2-data"),i&&this.opts.element.trigger({type:"highlight",val:this.id(i),choice:i}),t)},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var a=this.findHighlightableChoices();this.highlight(a.index(n))}else 0==n.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),a=this.resultsPage+1,s=this,i=this.search.val(),r=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),this.opts.loadMorePadding>=e&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:i,page:a,context:r,matcher:this.opts.matcher,callback:this.bind(function(e){s.opened()&&(s.opts.populateResults.call(this,t,e.results,{term:i,page:a,context:r}),e.more===!0?(n.detach().appendTo(t).text(s.opts.formatLoadMore(a+1)),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):n.remove(),s.positionDropdown(),s.resultsPage=a,s.context=e.context)})})))},tokenize:function(){},updateResults:function(n){function s(){c.scrollTop(0),l.removeClass("select2-active"),h.positionDropdown()}function i(e){c.html(e),s()}var r,o,l=this.search,c=this.results,u=this.opts,h=this;if(n===!0||this.showSearchInput!==!1&&this.opened()){l.addClass("select2-active");var d=this.getMaximumSelectionSize();if(d>=1&&(r=this.data(),e.isArray(r)&&r.length>=d&&y(u.formatSelectionTooBig,"formatSelectionTooBig")))return i("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(d)+"</li>"),t;if(l.val().length<u.minimumInputLength)return y(u.formatInputTooShort,"formatInputTooShort")?i("<li class='select2-no-results'>"+u.formatInputTooShort(l.val(),u.minimumInputLength)+"</li>"):i(""),t;if(u.formatSearching()&&n===!0&&i("<li class='select2-searching'>"+u.formatSearching()+"</li>"),u.maximumInputLength&&l.val().length>u.maximumInputLength)return y(u.formatInputTooLong,"formatInputTooLong")?i("<li class='select2-no-results'>"+u.formatInputTooLong(l.val(),u.maximumInputLength)+"</li>"):i(""),t;o=this.tokenize(),o!=t&&null!=o&&l.val(o),this.resultsPage=1,u.query({element:u.element,term:l.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(r){var o;if(this.opened()){if(this.context=r.context===t?null:r.context,this.opts.createSearchChoice&&""!==l.val()&&(o=this.opts.createSearchChoice.call(null,l.val(),r.results),o!==t&&null!==o&&h.id(o)!==t&&null!==h.id(o)&&0===e(r.results).filter(function(){return a(h.id(this),h.id(o))}).length&&r.results.unshift(o)),0===r.results.length&&y(u.formatNoMatches,"formatNoMatches"))return i("<li class='select2-no-results'>"+u.formatNoMatches(l.val())+"</li>"),t;c.empty(),h.opts.populateResults.call(this,c,r.results,{term:l.val(),page:this.resultsPage,context:null}),r.more===!0&&y(u.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(r,n),s()}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){h(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),a=n.closest(".select2-result").data("select2-data");a&&(this.highlight(t),this.onSelect(a,e))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,a,s,i,r;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(a=n.split(";"),i=0,r=a.length;r>i;i+=1)if(s=a[i].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==s&&s.length>=1)return s[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var a=n.call(this);null!==a&&this.container.css("width",a)}}),I=D(x,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop' style='display:none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.focusser.attr("disabled","disabled"))},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.focusser.removeAttr("disabled"))},opening:function(){this.parent.opening.apply(this,arguments),this.focusser.attr("disabled","disabled"),this.opts.element.trigger(e.Event("open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),h(this.focusser))},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var e,n=this.container,a=this.dropdown,s=!1;this.showSearch(this.opts.minimumResultsForSearch>=0),this.selection=e=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===w.PAGE_UP||e.which===w.PAGE_DOWN)return d(e),t;switch(e.which){case w.UP:case w.DOWN:return this.moveHighlight(e.which===w.UP?-1:1),d(e),t;case w.TAB:case w.ENTER:return this.selectHighlighted(),d(e),t;case w.ESC:return this.cancel(e),d(e),t}}})),this.focusser.bind("keydown",this.bind(function(e){return!this.enabled||e.which===w.TAB||w.isControl(e)||w.isFunctionKey(e)||e.which===w.ESC?t:this.opts.openOnEnter===!1&&e.which===w.ENTER?(d(e),t):e.which==w.DOWN||e.which==w.UP||e.which==w.ENTER&&this.opts.openOnEnter?(this.open(),d(e),t):e.which==w.DELETE||e.which==w.BACKSPACE?(this.opts.allowClear&&this.clear(),d(e),t):t})),r(this.focusser),this.focusser.bind("keyup-change input",this.bind(function(e){this.opened()||(this.open(),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.focusser.val(""),d(e))})),e.delegate("abbr","mousedown",this.bind(function(e){this.enabled&&(this.clear(),f(e),this.close(),this.selection.focus())})),e.bind("mousedown",this.bind(function(e){s=!0,this.opened()?this.close():this.enabled&&this.open(),d(e),s=!1})),a.bind("mousedown",this.bind(function(){this.search.focus()})),e.bind("focus",this.bind(function(e){d(e)})),this.focusser.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})).bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active")})),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.setPlaceholder()},clear:function(){var e=this.selection.data("select2-data");this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),this.opts.element.trigger({type:"removed",val:this.id(e),choice:e}),this.triggerChange({removed:e})},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text())this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder())})}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(t,n){var a=t.find(":selected");e.isFunction(n)&&n({id:a.attr("value"),text:a.text(),element:a})}:"data"in t&&(t.initSelection=t.initSelection||function(n,s){var i=n.val();t.query({matcher:function(e,n,s){return a(i,t.id(s))},callback:e.isFunction(s)?function(e){s(e.results.length?e.results[0]:null)}:e.noop})}),t},getPlaceholder:function(){return this.select&&""!==this.select.find("option").first().text()?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(""===this.opts.element.val()&&e!==t){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(e,n){var s=0,i=this,r=!0;if(this.findHighlightableChoices().each2(function(e,n){return a(i.id(n.data("select2-data")),i.opts.element.val())?(s=e,!1):t}),this.highlight(s),n===!0){var o=this.opts.minimumResultsForSearch;r=0>o?!1:_(e.results)>=o,this.showSearch(r)}},showSearch:function(t){this.showSearchInput=t,this.dropdown.find(".select2-search")[t?"removeClass":"addClass"]("select2-search-hidden"),e(this.dropdown,this.container)[t?"addClass":"removeClass"]("select2-with-searchbox")},onSelect:function(e,t){var n=this.opts.element.val();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.close(),t&&t.noFocus||this.selection.focus(),a(n,this.id(e))||this.triggerChange()},updateSelection:function(e){var n,a=this.selection.find("span");this.selection.data("select2-data",e),a.empty(),n=this.opts.formatSelection(e,a),n!==t&&a.append(this.opts.escapeMarkup(n)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.selection.find("abbr").show()},val:function(){var e,n=!1,a=null,s=this;if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find(":selected").each2(function(e,t){return a={id:t.attr("value"),text:t.text()},!1}),this.updateSelection(a),this.setPlaceholder(),n&&this.triggerChange();else{if(this.opts.initSelection===t)throw Error("cannot call val() if initSelection() is not defined");if(!e&&0!==e)return this.clear(),n&&this.triggerChange(),t;this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){s.opts.element.val(e?s.id(e):""),s.updateSelection(e),s.setPlaceholder(),n&&s.triggerChange()})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(e&&""!==e?(this.opts.element.val(e?this.id(e):""),this.updateSelection(e)):this.clear(),t)}}),k=D(x,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=[];e.find(":selected").each2(function(e,t){n.push({id:t.attr("value"),text:t.text(),element:t[0]})}),t(n)}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var r=s(n.val(),t.separator);t.query({matcher:function(n,s,i){return e.grep(r,function(e){return a(e,t.id(i))}).length},callback:e.isFunction(i)?function(e){i(e.results)}:e.noop})}),t},initContainer:function(){var n,a=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=n=this.container.find(a),this.search.bind("input paste",this.bind(function(){this.enabled&&(this.opened()||this.open())})),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===w.BACKSPACE&&""===this.search.val()){this.close();var a,s=n.find(".select2-search-choice-focus");if(s.length>0)return this.unselect(s.first()),this.search.width(10),d(e),t;a=n.find(".select2-search-choice:not(.select2-locked)"),a.length>0&&a.last().addClass("select2-search-choice-focus")}else n.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(e.which){case w.UP:case w.DOWN:return this.moveHighlight(e.which===w.UP?-1:1),d(e),t;case w.ENTER:case w.TAB:return this.selectHighlighted(),d(e),t;case w.ESC:return this.cancel(e),d(e),t}if(e.which!==w.TAB&&!w.isControl(e)&&!w.isFunctionKey(e)&&e.which!==w.BACKSPACE&&e.which!==w.ESC){if(e.which===w.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===w.PAGE_UP||e.which===w.PAGE_DOWN)&&d(e)}}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.opened()||this.clearSearch(),e.stopImmediatePropagation()})),this.container.delegate(a,"mousedown",this.bind(function(t){this.enabled&&(e(t.target).closest(".select2-search-choice").length>0||(this.clearPlaceholder(),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.delegate(a,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.resizeSearch()):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.parent.opening.apply(this,arguments),this.clearPlaceholder(),this.resizeSearch(),this.focusSearch(),this.opts.element.trigger(e.Event("open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus(),this.opts.element.triggerHandler("focus")},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var a=[],s=[],i=this;e(t).each(function(){0>n(i.id(this),a)&&(a.push(i.id(this)),s.push(this))}),t=s,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){i.addSelectedChoice(this)}),i.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var a,s=!n.locked,i=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),r=e("<li class='select2-search-choice select2-locked'><div></div></li>"),o=s?i:r,l=this.id(n),c=this.getVal();a=this.opts.formatSelection(n,o.find("div")),a!=t&&o.find("div").replaceWith("<div>"+this.opts.escapeMarkup(a)+"</div>"),s&&o.find(".select2-search-choice-close").bind("mousedown",d).bind("click dblclick",this.bind(function(t){this.enabled&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),d(t))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),o.data("select2-data",n),o.insertBefore(this.searchContainer),c.push(l),this.setVal(c)},unselect:function(e){var t,a,s=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";t=e.data("select2-data"),t&&(a=n(this.id(t),s),a>=0&&(s.splice(a,1),this.setVal(s),this.select&&this.postprocessResults()),e.remove(),this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))},postprocessResults:function(){var e=this.getVal(),t=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),s=this;t.each2(function(t,a){var i=s.id(a.data("select2-data"));n(i,e)>=0&&(a.addClass("select2-selected"),a.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&s.highlight(0)},resizeSearch:function(){var e,t,n,a,s,r=i(this.search);e=p(this.search)+10,t=this.search.offset().left,n=this.selection.width(),a=this.selection.offset().left,s=n-(t-a)-r,e>s&&(s=n-r),40>s&&(s=n-r),0>=s&&(s=e),this.search.width(s)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),s(e,this.opts.separator))},setVal:function(t){var a;this.select?this.select.val(t):(a=[],e(t).each(function(){0>n(this,a)&&a.push(this)}),this.opts.element.val(0===a.length?"":a.join(this.opts.separator)))},val:function(){var n,a=!1,s=this;if(0===arguments.length)return this.getVal();if(n=arguments[0],arguments.length>1&&(a=arguments[1]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),a&&this.triggerChange(),t;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),a&&this.triggerChange();else{if(this.opts.initSelection===t)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e(t).map(s.id);s.setVal(n),s.updateSelection(t),s.clearSearch(),a&&s.triggerChange()})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(n){var a,s=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(n||(n=[]),a=e.map(n,function(e){return s.opts.id(e)}),this.setVal(a),this.updateSelection(n),this.clearSearch(),t)}}),e.fn.select2=function(){var a,s,i,r,o=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(0===o.length||"object"==typeof o[0])a=0===o.length?{}:e.extend({},o[0]),a.element=e(this),"select"===a.element.get(0).tagName.toLowerCase()?r=a.element.attr("multiple"):(r=a.multiple||!1,"tags"in a&&(a.multiple=r=!0)),s=r?new k:new I,s.init(a);else{if("string"!=typeof o[0])throw"Invalid arguments to select2 plugin: "+o;if(0>n(o[0],l))throw"Unknown method: "+o[0];if(i=t,s=e(this).data("select2"),s===t)return;if(i="container"===o[0]?s.container:s[o[0]].apply(s,o.slice(1)),i!==t)return!1}}),i===t?this:i},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,a){var s=[];return m(e.text,n.term,s,a),s.join("")},formatSelection:function(e){return e?e.text:t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please enter "+n+" less character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return t.toUpperCase().indexOf(e.toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:T,escapeMarkup:function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","/":"&#47;"};return(e+"").replace(/[&<>"'/\\]/g,function(e){return t[e[0]]})},blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null}},window.Select2={query:{ajax:b,local:S,tags:v},util:{debounce:l,markMatch:m},"class":{"abstract":x,single:I,multi:k}}}}(jQuery),window.JSON||(window.JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,a,s,i,r,o=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?l+"":"null";case"boolean":case"null":return l+"";case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(i=l.length,n=0;i>n;n+=1)r[n]=str(n,l)||"null";return s=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+o+"]":"["+r.join(",")+"]",gap=o,s}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;i>n;n+=1)a=rep[n],"string"==typeof a&&(s=str(a,l),s&&r.push(quote(a)+(gap?": ":":")+s));else for(a in l)Object.hasOwnProperty.call(l,a)&&(s=str(a,l),s&&r.push(quote(a)+(gap?": ":":")+s));return s=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+o+"}":"{"+r.join(",")+"}",gap=o,s}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()
});var JSON=window.JSON,cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var a;if(gap="",indent="","number"==typeof n)for(a=0;n>a;a+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,!t||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return str("",{"":e});throw Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,a,s=e[t];if(s&&"object"==typeof s)for(n in s)Object.hasOwnProperty.call(s,n)&&(a=walk(s,n),void 0!==a?s[n]=a:delete s[n]);return reviver.call(e,t,s)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(e,t){"use strict";var n=e.History=e.History||{},a=e.jQuery;if(n.Adapter!==void 0)throw Error("History.js Adapter has already been loaded...");n.Adapter={bind:function(e,t,n){a(e).bind(t,n)},trigger:function(e,t,n){a(e).trigger(t,n)},extractEventData:function(e,n,a){var s=n&&n.originalEvent&&n.originalEvent[e]||a&&a[e]||t;return s},onDomLoad:function(e){a(e)}},n.init!==void 0&&n.init()}(window),function(e){"use strict";var t=e.document,n=e.setTimeout||n,a=e.clearTimeout||a,s=e.setInterval||s,i=e.History=e.History||{};if(i.initHtml4!==void 0)throw Error("History.js HTML4 Support has already been loaded...");i.initHtml4=function(){return i.initHtml4.initialized!==void 0?!1:(i.initHtml4.initialized=!0,i.enabled=!0,i.savedHashes=[],i.isLastHash=function(e){var t,n=i.getHashByIndex();return t=e===n},i.saveHash=function(e){return i.isLastHash(e)?!1:(i.savedHashes.push(e),!0)},i.getHashByIndex=function(e){var t=null;return t=e===void 0?i.savedHashes[i.savedHashes.length-1]:0>e?i.savedHashes[i.savedHashes.length+e]:i.savedHashes[e]},i.discardedHashes={},i.discardedStates={},i.discardState=function(e,t,n){var a,s=i.getHashByState(e);return a={discardedState:e,backState:n,forwardState:t},i.discardedStates[s]=a,!0},i.discardHash=function(e,t,n){var a={discardedHash:e,backState:n,forwardState:t};return i.discardedHashes[e]=a,!0},i.discardedState=function(e){var t,n=i.getHashByState(e);return t=i.discardedStates[n]||!1},i.discardedHash=function(e){var t=i.discardedHashes[e]||!1;return t},i.recycleState=function(e){var t=i.getHashByState(e);return i.discardedState(e)&&delete i.discardedStates[t],!0},i.emulated.hashChange&&(i.hashChangeInit=function(){i.checkerFunction=null;var n,a,r,o,l="";return i.isInternetExplorer()?(n="historyjs-iframe",a=t.createElement("iframe"),a.setAttribute("id",n),a.style.display="none",t.body.appendChild(a),a.contentWindow.document.open(),a.contentWindow.document.close(),r="",o=!1,i.checkerFunction=function(){if(o)return!1;o=!0;var t=i.getHash()||"",n=i.unescapeHash(a.contentWindow.document.location.hash)||"";return t!==l?(l=t,n!==t&&(r=n=t,a.contentWindow.document.open(),a.contentWindow.document.close(),a.contentWindow.document.location.hash=i.escapeHash(t)),i.Adapter.trigger(e,"hashchange")):n!==r&&(r=n,i.setHash(n,!1)),o=!1,!0}):i.checkerFunction=function(){var t=i.getHash();return t!==l&&(l=t,i.Adapter.trigger(e,"hashchange")),!0},i.intervalList.push(s(i.checkerFunction,i.options.hashChangeInterval)),!0},i.Adapter.onDomLoad(i.hashChangeInit)),i.emulated.pushState&&(i.onHashChange=function(n){var a,s=n&&n.newURL||t.location.href,r=i.getHashByUrl(s),o=null,l=null;return i.isLastHash(r)?(i.busy(!1),!1):(i.doubleCheckComplete(),i.saveHash(r),r&&i.isTraditionalAnchor(r)?(i.Adapter.trigger(e,"anchorchange"),i.busy(!1),!1):(o=i.extractState(i.getFullUrl(r||t.location.href,!1),!0),i.isLastSavedState(o)?(i.busy(!1),!1):(l=i.getHashByState(o),a=i.discardedState(o),a?(i.getHashByIndex(-2)===i.getHashByState(a.forwardState)?i.back(!1):i.forward(!1),!1):(i.pushState(o.data,o.title,o.url,!1),!0))))},i.Adapter.bind(e,"hashchange",i.onHashChange),i.pushState=function(n,a,s,r){if(i.getHashByUrl(s))throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(r!==!1&&i.busy())return i.pushQueue({scope:i,callback:i.pushState,args:arguments,queue:r}),!1;i.busy(!0);var o=i.createStateObject(n,a,s),l=i.getHashByState(o),c=i.getState(!1),u=i.getHashByState(c),h=i.getHash();return i.storeState(o),i.expectedStateId=o.id,i.recycleState(o),i.setTitle(o),l===u?(i.busy(!1),!1):l!==h&&l!==i.getShortUrl(t.location.href)?(i.setHash(l,!1),!1):(i.saveState(o),i.Adapter.trigger(e,"statechange"),i.busy(!1),!0)},i.replaceState=function(e,t,n,a){if(i.getHashByUrl(n))throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(a!==!1&&i.busy())return i.pushQueue({scope:i,callback:i.replaceState,args:arguments,queue:a}),!1;i.busy(!0);var s=i.createStateObject(e,t,n),r=i.getState(!1),o=i.getStateByIndex(-2);return i.discardState(r,s,o),i.pushState(s.data,s.title,s.url,!1),!0}),i.emulated.pushState&&i.getHash()&&!i.emulated.hashChange&&i.Adapter.onDomLoad(function(){i.Adapter.trigger(e,"hashchange")}),void 0)},i.init!==void 0&&i.init()}(window),function(e,t){"use strict";var n=e.console||t,a=e.document,s=e.navigator,i=e.sessionStorage||!1,r=e.setTimeout,o=e.clearTimeout,l=e.setInterval,c=e.clearInterval,u=e.JSON,h=e.alert,d=e.History=e.History||{},f=e.history;if(u.stringify=u.stringify||u.encode,u.parse=u.parse||u.decode,d.init!==void 0)throw Error("History.js Core has already been loaded...");d.init=function(){return d.Adapter===void 0?!1:(d.initCore!==void 0&&d.initCore(),d.initHtml4!==void 0&&d.initHtml4(),!0)},d.initCore=function(){if(d.initCore.initialized!==void 0)return!1;if(d.initCore.initialized=!0,d.options=d.options||{},d.options.hashChangeInterval=d.options.hashChangeInterval||100,d.options.safariPollInterval=d.options.safariPollInterval||500,d.options.doubleCheckInterval=d.options.doubleCheckInterval||500,d.options.storeInterval=d.options.storeInterval||1e3,d.options.busyDelay=d.options.busyDelay||250,d.options.debug=d.options.debug||!1,d.options.initialTitle=d.options.initialTitle||a.title,d.intervalList=[],d.clearAllIntervals=function(){var e,t=d.intervalList;if(t!==void 0&&null!==t){for(e=0;t.length>e;e++)c(t[e]);d.intervalList=null}},d.debug=function(){(d.options.debug||!1)&&d.log.apply(d,arguments)},d.log=function(){var e,t,s,i,r,o=n!==void 0&&n.log!==void 0&&n.log.apply!==void 0,l=a.getElementById("log");for(o?(i=Array.prototype.slice.call(arguments),e=i.shift(),n.debug!==void 0?n.debug.apply(n,[e,i]):n.log.apply(n,[e,i])):e="\n"+arguments[0]+"\n",t=1,s=arguments.length;s>t;++t){if(r=arguments[t],"object"==typeof r&&u!==void 0)try{r=u.stringify(r)}catch(c){}e+="\n"+r+"\n"}return l?(l.value+=e+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):o||h(e),!0},d.getInternetExplorerMajorVersion=function(){var e=d.getInternetExplorerMajorVersion.cached=d.getInternetExplorerMajorVersion.cached!==void 0?d.getInternetExplorerMajorVersion.cached:function(){for(var e=3,t=a.createElement("div"),n=t.getElementsByTagName("i");(t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->")&&n[0];);return e>4?e:!1}();return e},d.isInternetExplorer=function(){var e=d.isInternetExplorer.cached=d.isInternetExplorer.cached!==void 0?d.isInternetExplorer.cached:Boolean(d.getInternetExplorerMajorVersion());return e},d.emulated={pushState:!Boolean(e.history&&e.history.pushState&&e.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(s.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(s.userAgent)),hashChange:Boolean(!("onhashchange"in e||"onhashchange"in a)||d.isInternetExplorer()&&8>d.getInternetExplorerMajorVersion())},d.enabled=!d.emulated.pushState,d.bugs={setHash:Boolean(!d.emulated.pushState&&"Apple Computer, Inc."===s.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(s.userAgent)),safariPoll:Boolean(!d.emulated.pushState&&"Apple Computer, Inc."===s.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(s.userAgent)),ieDoubleCheck:Boolean(d.isInternetExplorer()&&8>d.getInternetExplorerMajorVersion()),hashEscape:Boolean(d.isInternetExplorer()&&7>d.getInternetExplorerMajorVersion())},d.isEmptyObject=function(e){for(var t in e)return!1;return!0},d.cloneObject=function(e){var t,n;return e?(t=u.stringify(e),n=u.parse(t)):n={},n},d.getRootUrl=function(){var e=a.location.protocol+"//"+(a.location.hostname||a.location.host);return a.location.port&&(e+=":"+a.location.port),e+="/"},d.getBaseHref=function(){var e=a.getElementsByTagName("base"),t=null,n="";return 1===e.length&&(t=e[0],n=t.href.replace(/[^\/]+$/,"")),n=n.replace(/\/+$/,""),n&&(n+="/"),n},d.getBaseUrl=function(){var e=d.getBaseHref()||d.getBasePageUrl()||d.getRootUrl();return e},d.getPageUrl=function(){var e,t=d.getState(!1,!1),n=(t||{}).url||a.location.href;return e=n.replace(/\/+$/,"").replace(/[^\/]+$/,function(e){return/\./.test(e)?e:e+"/"})},d.getBasePageUrl=function(){var e=a.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(e){return/[^\/]$/.test(e)?"":e}).replace(/\/+$/,"")+"/";return e},d.getFullUrl=function(e,t){var n=e,a=e.substring(0,1);return t=t===void 0?!0:t,/[a-z]+\:\/\//.test(e)||(n="/"===a?d.getRootUrl()+e.replace(/^\/+/,""):"#"===a?d.getPageUrl().replace(/#.*/,"")+e:"?"===a?d.getPageUrl().replace(/[\?#].*/,"")+e:t?d.getBaseUrl()+e.replace(/^(\.\/)+/,""):d.getBasePageUrl()+e.replace(/^(\.\/)+/,"")),n.replace(/\#$/,"")},d.getShortUrl=function(e){var t=e,n=d.getBaseUrl(),a=d.getRootUrl();return d.emulated.pushState&&(t=t.replace(n,"")),t=t.replace(a,"/"),d.isTraditionalAnchor(t)&&(t="./"+t),t=t.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},d.store={},d.idToState=d.idToState||{},d.stateToId=d.stateToId||{},d.urlToId=d.urlToId||{},d.storedStates=d.storedStates||[],d.savedStates=d.savedStates||[],d.normalizeStore=function(){d.store.idToState=d.store.idToState||{},d.store.urlToId=d.store.urlToId||{},d.store.stateToId=d.store.stateToId||{}},d.getState=function(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);var n=d.getLastSavedState();return!n&&t&&(n=d.createStateObject()),e&&(n=d.cloneObject(n),n.url=n.cleanUrl||n.url),n},d.getIdByState=function(e){var t,n=d.extractId(e.url);if(!n)if(t=d.getStateString(e),d.stateToId[t]!==void 0)n=d.stateToId[t];else if(d.store.stateToId[t]!==void 0)n=d.store.stateToId[t];else{for(;n=(new Date).getTime()+(Math.random()+"").replace(/\D/g,""),d.idToState[n]!==void 0||d.store.idToState[n]!==void 0;);d.stateToId[t]=n,d.idToState[n]=e}return n},d.normalizeState=function(e){var t,n;return e&&"object"==typeof e||(e={}),e.normalized!==void 0?e:(e.data&&"object"==typeof e.data||(e.data={}),t={},t.normalized=!0,t.title=e.title||"",t.url=d.getFullUrl(d.unescapeString(e.url||a.location.href)),t.hash=d.getShortUrl(t.url),t.data=d.cloneObject(e.data),t.id=d.getIdByState(t),t.cleanUrl=t.url.replace(/\??\&_suid.*/,""),t.url=t.cleanUrl,n=!d.isEmptyObject(t.data),(t.title||n)&&(t.hash=d.getShortUrl(t.url).replace(/\??\&_suid.*/,""),/\?/.test(t.hash)||(t.hash+="?"),t.hash+="&_suid="+t.id),t.hashedUrl=d.getFullUrl(t.hash),(d.emulated.pushState||d.bugs.safariPoll)&&d.hasUrlDuplicate(t)&&(t.url=t.hashedUrl),t)},d.createStateObject=function(e,t,n){var a={data:e,title:t,url:n};return a=d.normalizeState(a)},d.getStateById=function(e){e+="";var n=d.idToState[e]||d.store.idToState[e]||t;return n},d.getStateString=function(e){var t,n,a;return t=d.normalizeState(e),n={data:t.data,title:e.title,url:e.url},a=u.stringify(n)},d.getStateId=function(e){var t,n;return t=d.normalizeState(e),n=t.id},d.getHashByState=function(e){var t,n;return t=d.normalizeState(e),n=t.hash},d.extractId=function(e){var t,n,a;return n=/(.*)\&_suid=([0-9]+)$/.exec(e),a=n?n[1]||e:e,t=n?(n[2]||"")+"":"",t||!1},d.isTraditionalAnchor=function(e){var t=!/[\/\?\.]/.test(e);return t},d.extractState=function(e,t){var n,a,s=null;return t=t||!1,n=d.extractId(e),n&&(s=d.getStateById(n)),s||(a=d.getFullUrl(e),n=d.getIdByUrl(a)||!1,n&&(s=d.getStateById(n)),!s&&t&&!d.isTraditionalAnchor(e)&&(s=d.createStateObject(null,null,a))),s},d.getIdByUrl=function(e){var n=d.urlToId[e]||d.store.urlToId[e]||t;return n},d.getLastSavedState=function(){return d.savedStates[d.savedStates.length-1]||t},d.getLastStoredState=function(){return d.storedStates[d.storedStates.length-1]||t},d.hasUrlDuplicate=function(e){var t,n=!1;return t=d.extractState(e.url),n=t&&t.id!==e.id},d.storeState=function(e){return d.urlToId[e.url]=e.id,d.storedStates.push(d.cloneObject(e)),e},d.isLastSavedState=function(e){var t,n,a,s=!1;return d.savedStates.length&&(t=e.id,n=d.getLastSavedState(),a=n.id,s=t===a),s},d.saveState=function(e){return d.isLastSavedState(e)?!1:(d.savedStates.push(d.cloneObject(e)),!0)},d.getStateByIndex=function(e){var t=null;return t=e===void 0?d.savedStates[d.savedStates.length-1]:0>e?d.savedStates[d.savedStates.length+e]:d.savedStates[e]},d.getHash=function(){var e=d.unescapeHash(a.location.hash);return e},d.unescapeString=function(t){for(var n,a=t;n=e.unescape(a),n!==a;)a=n;return a},d.unescapeHash=function(e){var t=d.normalizeHash(e);return t=d.unescapeString(t)},d.normalizeHash=function(e){var t=e.replace(/[^#]*#/,"").replace(/#.*/,"");return t},d.setHash=function(e,t){var n,s,i;return t!==!1&&d.busy()?(d.pushQueue({scope:d,callback:d.setHash,args:arguments,queue:t}),!1):(n=d.escapeHash(e),d.busy(!0),s=d.extractState(e,!0),s&&!d.emulated.pushState?d.pushState(s.data,s.title,s.url,!1):a.location.hash!==n&&(d.bugs.setHash?(i=d.getPageUrl(),d.pushState(null,null,i+"#"+n,!1)):a.location.hash=n),d)},d.escapeHash=function(t){var n=d.normalizeHash(t);return n=e.escape(n),d.bugs.hashEscape||(n=n.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),n},d.getHashByUrl=function(e){var t=(e+"").replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return t=d.unescapeHash(t)},d.setTitle=function(e){var t,n=e.title;n||(t=d.getStateByIndex(0),t&&t.url===e.url&&(n=t.title||d.options.initialTitle));try{a.getElementsByTagName("title")[0].innerHTML=n.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(s){}return a.title=n,d},d.queues=[],d.busy=function(e){if(e!==void 0?d.busy.flag=e:d.busy.flag===void 0&&(d.busy.flag=!1),!d.busy.flag){o(d.busy.timeout);var t=function(){var e,n,a;if(!d.busy.flag)for(e=d.queues.length-1;e>=0;--e)n=d.queues[e],0!==n.length&&(a=n.shift(),d.fireQueueItem(a),d.busy.timeout=r(t,d.options.busyDelay))};d.busy.timeout=r(t,d.options.busyDelay)}return d.busy.flag},d.busy.flag=!1,d.fireQueueItem=function(e){return e.callback.apply(e.scope||d,e.args||[])},d.pushQueue=function(e){return d.queues[e.queue||0]=d.queues[e.queue||0]||[],d.queues[e.queue||0].push(e),d},d.queue=function(e,t){return"function"==typeof e&&(e={callback:e}),t!==void 0&&(e.queue=t),d.busy()?d.pushQueue(e):d.fireQueueItem(e),d},d.clearQueue=function(){return d.busy.flag=!1,d.queues=[],d},d.stateChanged=!1,d.doubleChecker=!1,d.doubleCheckComplete=function(){return d.stateChanged=!0,d.doubleCheckClear(),d},d.doubleCheckClear=function(){return d.doubleChecker&&(o(d.doubleChecker),d.doubleChecker=!1),d},d.doubleCheck=function(e){return d.stateChanged=!1,d.doubleCheckClear(),d.bugs.ieDoubleCheck&&(d.doubleChecker=r(function(){return d.doubleCheckClear(),d.stateChanged||e(),!0},d.options.doubleCheckInterval)),d},d.safariStatePoll=function(){var t,n=d.extractState(a.location.href);if(!d.isLastSavedState(n))return t=n,t||(t=d.createStateObject()),d.Adapter.trigger(e,"popstate"),d},d.back=function(e){return e!==!1&&d.busy()?(d.pushQueue({scope:d,callback:d.back,args:arguments,queue:e}),!1):(d.busy(!0),d.doubleCheck(function(){d.back(!1)}),f.go(-1),!0)},d.forward=function(e){return e!==!1&&d.busy()?(d.pushQueue({scope:d,callback:d.forward,args:arguments,queue:e}),!1):(d.busy(!0),d.doubleCheck(function(){d.forward(!1)}),f.go(1),!0)},d.go=function(e,t){var n;if(e>0)for(n=1;e>=n;++n)d.forward(t);else{if(!(0>e))throw Error("History.go: History.go requires a positive or negative integer passed.");for(n=-1;n>=e;--n)d.back(t)}return d},d.emulated.pushState){var p=function(){};d.pushState=d.pushState||p,d.replaceState=d.replaceState||p}else d.onPopState=function(t,n){var s,i,r=!1,o=!1;return d.doubleCheckComplete(),s=d.getHash(),s?(i=d.extractState(s||a.location.href,!0),i?d.replaceState(i.data,i.title,i.url,!1):(d.Adapter.trigger(e,"anchorchange"),d.busy(!1)),d.expectedStateId=!1,!1):(r=d.Adapter.extractEventData("state",t,n)||!1,o=r?d.getStateById(r):d.expectedStateId?d.getStateById(d.expectedStateId):d.extractState(a.location.href),o||(o=d.createStateObject(null,null,a.location.href)),d.expectedStateId=!1,d.isLastSavedState(o)?(d.busy(!1),!1):(d.storeState(o),d.saveState(o),d.setTitle(o),d.Adapter.trigger(e,"statechange"),d.busy(!1),!0))},d.Adapter.bind(e,"popstate",d.onPopState),d.pushState=function(t,n,a,s){if(d.getHashByUrl(a)&&d.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(s!==!1&&d.busy())return d.pushQueue({scope:d,callback:d.pushState,args:arguments,queue:s}),!1;d.busy(!0);var i=d.createStateObject(t,n,a);return d.isLastSavedState(i)?d.busy(!1):(d.storeState(i),d.expectedStateId=i.id,f.pushState(i.id,i.title,i.url),d.Adapter.trigger(e,"popstate")),!0},d.replaceState=function(t,n,a,s){if(d.getHashByUrl(a)&&d.emulated.pushState)throw Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(s!==!1&&d.busy())return d.pushQueue({scope:d,callback:d.replaceState,args:arguments,queue:s}),!1;d.busy(!0);var i=d.createStateObject(t,n,a);return d.isLastSavedState(i)?d.busy(!1):(d.storeState(i),d.expectedStateId=i.id,f.replaceState(i.id,i.title,i.url),d.Adapter.trigger(e,"popstate")),!0};if(i){try{d.store=u.parse(i.getItem("History.store"))||{}}catch(g){d.store={}}d.normalizeStore()}else d.store={},d.normalizeStore();d.Adapter.bind(e,"beforeunload",d.clearAllIntervals),d.Adapter.bind(e,"unload",d.clearAllIntervals),d.saveState(d.storeState(d.extractState(a.location.href,!0))),i&&(d.onUnload=function(){var e,t;try{e=u.parse(i.getItem("History.store"))||{}}catch(n){e={}}e.idToState=e.idToState||{},e.urlToId=e.urlToId||{},e.stateToId=e.stateToId||{};for(t in d.idToState)d.idToState.hasOwnProperty(t)&&(e.idToState[t]=d.idToState[t]);for(t in d.urlToId)d.urlToId.hasOwnProperty(t)&&(e.urlToId[t]=d.urlToId[t]);for(t in d.stateToId)d.stateToId.hasOwnProperty(t)&&(e.stateToId[t]=d.stateToId[t]);d.store=e,d.normalizeStore(),i.setItem("History.store",u.stringify(e))},d.intervalList.push(l(d.onUnload,d.options.storeInterval)),d.Adapter.bind(e,"beforeunload",d.onUnload),d.Adapter.bind(e,"unload",d.onUnload)),d.emulated.pushState||(d.bugs.safariPoll&&d.intervalList.push(l(d.safariStatePoll,d.options.safariPollInterval)),("Apple Computer, Inc."===s.vendor||"Mozilla"===(s.appCodeName||""))&&(d.Adapter.bind(e,"hashchange",function(){d.Adapter.trigger(e,"popstate")}),d.getHash()&&d.Adapter.onDomLoad(function(){d.Adapter.trigger(e,"hashchange")})))},d.init()}(window),function(window,document,undefined){(function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.dataTable&&e(jQuery)})(function($){"use strict";var DataTable=function(oInit){function _fnAddColumn(e,t){var n=DataTable.defaults.columns,a=e.aoColumns.length,s=$.extend({},DataTable.models.oColumn,n,{sSortingClass:e.oClasses.sSortable,sSortingClassJUI:e.oClasses.sSortJUI,nTh:t?t:document.createElement("th"),sTitle:n.sTitle?n.sTitle:t?t.innerHTML:"",aDataSort:n.aDataSort?n.aDataSort:[a],mData:n.mData?n.oDefaults:a});if(e.aoColumns.push(s),e.aoPreSearchCols[a]===undefined||null===e.aoPreSearchCols[a])e.aoPreSearchCols[a]=$.extend({},DataTable.models.oSearch);else{var i=e.aoPreSearchCols[a];i.bRegex===undefined&&(i.bRegex=!0),i.bSmart===undefined&&(i.bSmart=!0),i.bCaseInsensitive===undefined&&(i.bCaseInsensitive=!0)}_fnColumnOptions(e,a,null)}function _fnColumnOptions(e,t,n){var a=e.aoColumns[t];n!==undefined&&null!==n&&(n.mDataProp&&!n.mData&&(n.mData=n.mDataProp),n.sType!==undefined&&(a.sType=n.sType,a._bAutoType=!1),$.extend(a,n),_fnMap(a,n,"sWidth","sWidthOrig"),n.iDataSort!==undefined&&(a.aDataSort=[n.iDataSort]),_fnMap(a,n,"aDataSort"));var s=a.mRender?_fnGetObjectDataFn(a.mRender):null,i=_fnGetObjectDataFn(a.mData);a.fnGetData=function(e,t){var n=i(e,t);return a.mRender&&t&&""!==t?s(n,t,e):n},a.fnSetData=_fnSetObjectDataFn(a.mData),e.oFeatures.bSort||(a.bSortable=!1),!a.bSortable||-1==$.inArray("asc",a.asSorting)&&-1==$.inArray("desc",a.asSorting)?(a.sSortingClass=e.oClasses.sSortableNone,a.sSortingClassJUI=""):-1==$.inArray("asc",a.asSorting)&&-1==$.inArray("desc",a.asSorting)?(a.sSortingClass=e.oClasses.sSortable,a.sSortingClassJUI=e.oClasses.sSortJUI):-1!=$.inArray("asc",a.asSorting)&&-1==$.inArray("desc",a.asSorting)?(a.sSortingClass=e.oClasses.sSortableAsc,a.sSortingClassJUI=e.oClasses.sSortJUIAscAllowed):-1==$.inArray("asc",a.asSorting)&&-1!=$.inArray("desc",a.asSorting)&&(a.sSortingClass=e.oClasses.sSortableDesc,a.sSortingClassJUI=e.oClasses.sSortJUIDescAllowed)}function _fnAdjustColumnSizing(e){if(e.oFeatures.bAutoWidth===!1)return!1;_fnCalculateColumnWidths(e);for(var t=0,n=e.aoColumns.length;n>t;t++)e.aoColumns[t].nTh.style.width=e.aoColumns[t].sWidth}function _fnVisibleToColumnIndex(e,t){var n=_fnGetColumns(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function _fnColumnIndexToVisible(e,t){var n=_fnGetColumns(e,"bVisible"),a=$.inArray(t,n);return-1!==a?a:null}function _fnVisbleColumns(e){return _fnGetColumns(e,"bVisible").length}function _fnGetColumns(e,t){var n=[];return $.map(e.aoColumns,function(e,a){e[t]&&n.push(a)}),n}function _fnDetectType(e){for(var t=DataTable.ext.aTypes,n=t.length,a=0;n>a;a++){var s=t[a](e);if(null!==s)return s}return"string"}function _fnReOrderIndex(e,t){for(var n=t.split(","),a=[],s=0,i=e.aoColumns.length;i>s;s++)for(var r=0;i>r;r++)if(e.aoColumns[s].sName==n[r]){a.push(r);break}return a}function _fnColumnOrdering(e){for(var t="",n=0,a=e.aoColumns.length;a>n;n++)t+=e.aoColumns[n].sName+",";return t.length==a?"":t.slice(0,-1)}function _fnApplyColumnDefs(e,t,n,a){var s,i,r,o,l,c;if(t)for(s=t.length-1;s>=0;s--){var u=t[s].aTargets;for($.isArray(u)||_fnLog(e,1,"aTargets must be an array of targets, not a "+typeof u),r=0,o=u.length;o>r;r++)if("number"==typeof u[r]&&u[r]>=0){for(;e.aoColumns.length<=u[r];)_fnAddColumn(e);a(u[r],t[s])}else if("number"==typeof u[r]&&0>u[r])a(e.aoColumns.length+u[r],t[s]);else if("string"==typeof u[r])for(l=0,c=e.aoColumns.length;c>l;l++)("_all"==u[r]||$(e.aoColumns[l].nTh).hasClass(u[r]))&&a(l,t[s])}if(n)for(s=0,i=n.length;i>s;s++)a(s,n[s])}function _fnAddData(e,t){var n,a=$.isArray(t)?t.slice():$.extend(!0,{},t),s=e.aoData.length,i=$.extend(!0,{},DataTable.models.oRow);i._aData=a,e.aoData.push(i);for(var r,o=0,l=e.aoColumns.length;l>o;o++)if(n=e.aoColumns[o],"function"==typeof n.fnRender&&n.bUseRendered&&null!==n.mData?_fnSetCellData(e,s,o,_fnRender(e,s,o)):_fnSetCellData(e,s,o,_fnGetCellData(e,s,o)),n._bAutoType&&"string"!=n.sType){var c=_fnGetCellData(e,s,o,"type");null!==c&&""!==c&&(r=_fnDetectType(c),null===n.sType?n.sType=r:n.sType!=r&&"html"!=n.sType&&(n.sType="string"))}return e.aiDisplayMaster.push(s),e.oFeatures.bDeferRender||_fnCreateTr(e,s),s}function _fnGatherData(e){var t,n,a,s,i,r,o,l,c,u,h,d,f,p,g;if(e.bDeferLoading||null===e.sAjaxSource)for(o=e.nTBody.firstChild;o;){if("TR"==o.nodeName.toUpperCase())for(l=e.aoData.length,o._DT_RowIndex=l,e.aoData.push($.extend(!0,{},DataTable.models.oRow,{nTr:o})),e.aiDisplayMaster.push(l),r=o.firstChild,a=0;r;)f=r.nodeName.toUpperCase(),("TD"==f||"TH"==f)&&(_fnSetCellData(e,l,a,$.trim(r.innerHTML)),a++),r=r.nextSibling;o=o.nextSibling}for(i=_fnGetTrNodes(e),s=[],t=0,n=i.length;n>t;t++)for(r=i[t].firstChild;r;)f=r.nodeName.toUpperCase(),("TD"==f||"TH"==f)&&s.push(r),r=r.nextSibling;for(h=0,d=e.aoColumns.length;d>h;h++){p=e.aoColumns[h],null===p.sTitle&&(p.sTitle=p.nTh.innerHTML);var m,b,S,v,y=p._bAutoType,C="function"==typeof p.fnRender,_=null!==p.sClass,T=p.bVisible;if(y||C||_||!T)for(c=0,u=e.aoData.length;u>c;c++)g=e.aoData[c],m=s[c*d+h],y&&"string"!=p.sType&&(v=_fnGetCellData(e,c,h,"type"),""!==v&&(b=_fnDetectType(v),null===p.sType?p.sType=b:p.sType!=b&&"html"!=p.sType&&(p.sType="string"))),p.mRender?m.innerHTML=_fnGetCellData(e,c,h,"display"):p.mData!==h&&(m.innerHTML=_fnGetCellData(e,c,h,"display")),C&&(S=_fnRender(e,c,h),m.innerHTML=S,p.bUseRendered&&_fnSetCellData(e,c,h,S)),_&&(m.className+=" "+p.sClass),T?g._anHidden[h]=null:(g._anHidden[h]=m,m.parentNode.removeChild(m)),p.fnCreatedCell&&p.fnCreatedCell.call(e.oInstance,m,_fnGetCellData(e,c,h,"display"),g._aData,c,h)}if(0!==e.aoRowCreatedCallback.length)for(t=0,n=e.aoData.length;n>t;t++)g=e.aoData[t],_fnCallbackFire(e,"aoRowCreatedCallback",null,[g.nTr,g._aData,t])}function _fnNodeToDataIndex(e,t){return t._DT_RowIndex!==undefined?t._DT_RowIndex:null}function _fnNodeToColumnIndex(e,t,n){for(var a=_fnGetTdNodes(e,t),s=0,i=e.aoColumns.length;i>s;s++)if(a[s]===n)return s;return-1}function _fnGetRowData(e,t,n,a){for(var s=[],i=0,r=a.length;r>i;i++)s.push(_fnGetCellData(e,t,a[i],n));return s}function _fnGetCellData(e,t,n,a){var s,i=e.aoColumns[n],r=e.aoData[t]._aData;if((s=i.fnGetData(r,a))===undefined)return e.iDrawError!=e.iDraw&&null===i.sDefaultContent&&(_fnLog(e,0,"Requested unknown parameter "+("function"==typeof i.mData?"{mData function}":"'"+i.mData+"'")+" from the data source for row "+t),e.iDrawError=e.iDraw),i.sDefaultContent;if(null===s&&null!==i.sDefaultContent)s=i.sDefaultContent;else if("function"==typeof s)return s();return"display"==a&&null===s?"":s}function _fnSetCellData(e,t,n,a){var s=e.aoColumns[n],i=e.aoData[t]._aData;s.fnSetData(i,a)}function _fnGetObjectDataFn(e){if(null===e)return function(){return null};if("function"==typeof e)return function(t,n,a){return e(t,n,a)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("["))return function(t){return t[e]};var t=function(e,n,a){var s,i,r,o=a.split(".");if(""!==a)for(var l=0,c=o.length;c>l;l++){if(s=o[l].match(__reArray)){o[l]=o[l].replace(__reArray,""),""!==o[l]&&(e=e[o[l]]),i=[],o.splice(0,l+1),r=o.join(".");for(var u=0,h=e.length;h>u;u++)i.push(t(e[u],n,r));var d=s[0].substring(1,s[0].length-1);e=""===d?i:i.join(d);break}if(null===e||e[o[l]]===undefined)return undefined;e=e[o[l]]}return e};return function(n,a){return t(n,a,e)}}function _fnSetObjectDataFn(e){if(null===e)return function(){};if("function"==typeof e)return function(t,n){e(t,"set",n)};if("string"!=typeof e||-1===e.indexOf(".")&&-1===e.indexOf("["))return function(t,n){t[e]=n};var t=function(e,n,a){for(var s,i,r,o,l=a.split("."),c=0,u=l.length-1;u>c;c++){if(i=l[c].match(__reArray)){l[c]=l[c].replace(__reArray,""),e[l[c]]=[],s=l.slice(),s.splice(0,c+1),o=s.join(".");for(var h=0,d=n.length;d>h;h++)r={},t(r,n[h],o),e[l[c]].push(r);return}(null===e[l[c]]||e[l[c]]===undefined)&&(e[l[c]]={}),e=e[l[c]]}e[l[l.length-1].replace(__reArray,"")]=n};return function(n,a){return t(n,a,e)}}function _fnGetDataMaster(e){for(var t=[],n=e.aoData.length,a=0;n>a;a++)t.push(e.aoData[a]._aData);return t}function _fnClearTable(e){e.aoData.splice(0,e.aoData.length),e.aiDisplayMaster.splice(0,e.aiDisplayMaster.length),e.aiDisplay.splice(0,e.aiDisplay.length),_fnCalculateEnd(e)}function _fnDeleteIndex(e,t){for(var n=-1,a=0,s=e.length;s>a;a++)e[a]==t?n=a:e[a]>t&&e[a]--;-1!=n&&e.splice(n,1)}function _fnRender(e,t,n){var a=e.aoColumns[n];return a.fnRender({iDataRow:t,iDataColumn:n,oSettings:e,aData:e.aoData[t]._aData,mDataProp:a.mData},_fnGetCellData(e,t,n,"display"))}function _fnCreateTr(e,t){var n,a=e.aoData[t];if(null===a.nTr){a.nTr=document.createElement("tr"),a.nTr._DT_RowIndex=t,a._aData.DT_RowId&&(a.nTr.id=a._aData.DT_RowId),a._aData.DT_RowClass&&(a.nTr.className=a._aData.DT_RowClass);for(var s=0,i=e.aoColumns.length;i>s;s++){var r=e.aoColumns[s];n=document.createElement(r.sCellType),n.innerHTML="function"!=typeof r.fnRender||r.bUseRendered&&null!==r.mData?_fnGetCellData(e,t,s,"display"):_fnRender(e,t,s),null!==r.sClass&&(n.className=r.sClass),r.bVisible?(a.nTr.appendChild(n),a._anHidden[s]=null):a._anHidden[s]=n,r.fnCreatedCell&&r.fnCreatedCell.call(e.oInstance,n,_fnGetCellData(e,t,s,"display"),a._aData,t,s)}_fnCallbackFire(e,"aoRowCreatedCallback",null,[a.nTr,a._aData,t])}}function _fnBuildHead(e){var t,n,a,s=$("th, td",e.nTHead).length;if(0!==s)for(t=0,a=e.aoColumns.length;a>t;t++)n=e.aoColumns[t].nTh,n.setAttribute("role","columnheader"),e.aoColumns[t].bSortable&&(n.setAttribute("tabindex",e.iTabIndex),n.setAttribute("aria-controls",e.sTableId)),null!==e.aoColumns[t].sClass&&$(n).addClass(e.aoColumns[t].sClass),e.aoColumns[t].sTitle!=n.innerHTML&&(n.innerHTML=e.aoColumns[t].sTitle);else{var i=document.createElement("tr");for(t=0,a=e.aoColumns.length;a>t;t++)n=e.aoColumns[t].nTh,n.innerHTML=e.aoColumns[t].sTitle,n.setAttribute("tabindex","0"),null!==e.aoColumns[t].sClass&&$(n).addClass(e.aoColumns[t].sClass),i.appendChild(n);$(e.nTHead).html("")[0].appendChild(i),_fnDetectHeader(e.aoHeader,e.nTHead)}if($(e.nTHead).children("tr").attr("role","row"),e.bJUI)for(t=0,a=e.aoColumns.length;a>t;t++){n=e.aoColumns[t].nTh;var r=document.createElement("div");r.className=e.oClasses.sSortJUIWrapper,$(n).contents().appendTo(r);var o=document.createElement("span");o.className=e.oClasses.sSortIcon,r.appendChild(o),n.appendChild(r)}if(e.oFeatures.bSort)for(t=0;e.aoColumns.length>t;t++)e.aoColumns[t].bSortable!==!1?_fnSortAttachListener(e,e.aoColumns[t].nTh,t):$(e.aoColumns[t].nTh).addClass(e.oClasses.sSortableNone);if(""!==e.oClasses.sFooterTH&&$(e.nTFoot).children("tr").children("th").addClass(e.oClasses.sFooterTH),null!==e.nTFoot){var l=_fnGetUniqueThs(e,null,e.aoFooter);for(t=0,a=e.aoColumns.length;a>t;t++)l[t]&&(e.aoColumns[t].nTf=l[t],e.aoColumns[t].sClass&&$(l[t]).addClass(e.aoColumns[t].sClass))}}function _fnDrawHead(e,t,n){var a,s,i,r,o,l,c,u,h,d=[],f=[],p=e.aoColumns.length;for(n===undefined&&(n=!1),a=0,s=t.length;s>a;a++){for(d[a]=t[a].slice(),d[a].nTr=t[a].nTr,i=p-1;i>=0;i--)e.aoColumns[i].bVisible||n||d[a].splice(i,1);f.push([])}for(a=0,s=d.length;s>a;a++){if(c=d[a].nTr)for(;l=c.firstChild;)c.removeChild(l);for(i=0,r=d[a].length;r>i;i++)if(u=1,h=1,f[a][i]===undefined){for(c.appendChild(d[a][i].cell),f[a][i]=1;d[a+u]!==undefined&&d[a][i].cell==d[a+u][i].cell;)f[a+u][i]=1,u++;for(;d[a][i+h]!==undefined&&d[a][i].cell==d[a][i+h].cell;){for(o=0;u>o;o++)f[a+o][i+h]=1;h++}d[a][i].cell.rowSpan=u,d[a][i].cell.colSpan=h}}}function _fnDraw(e){var t=_fnCallbackFire(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==$.inArray(!1,t))return _fnProcessingDisplay(e,!1),undefined;var n,a,s,i=[],r=0,o=e.asStripeClasses.length,l=e.aoOpenRows.length;if(e.bDrawing=!0,e.iInitDisplayStart!==undefined&&-1!=e.iInitDisplayStart&&(e._iDisplayStart=e.oFeatures.bServerSide?e.iInitDisplayStart:e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart,e.iInitDisplayStart=-1,_fnCalculateEnd(e)),e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++;else if(e.oFeatures.bServerSide){if(!e.bDestroying&&!_fnAjaxUpdate(e))return}else e.iDraw++;if(0!==e.aiDisplay.length){var c=e._iDisplayStart,u=e._iDisplayEnd;e.oFeatures.bServerSide&&(c=0,u=e.aoData.length);for(var h=c;u>h;h++){var d=e.aoData[e.aiDisplay[h]];null===d.nTr&&_fnCreateTr(e,e.aiDisplay[h]);var f=d.nTr;if(0!==o){var p=e.asStripeClasses[r%o];d._sRowStripe!=p&&($(f).removeClass(d._sRowStripe).addClass(p),d._sRowStripe=p)}if(_fnCallbackFire(e,"aoRowCallback",null,[f,e.aoData[e.aiDisplay[h]]._aData,r,h]),i.push(f),r++,0!==l)for(var g=0;l>g;g++)if(f==e.aoOpenRows[g].nParent){i.push(e.aoOpenRows[g].nTr);
break}}}else{i[0]=document.createElement("tr"),e.asStripeClasses[0]&&(i[0].className=e.asStripeClasses[0]);var m=e.oLanguage,b=m.sZeroRecords;1!=e.iDraw||null===e.sAjaxSource||e.oFeatures.bServerSide?m.sEmptyTable&&0===e.fnRecordsTotal()&&(b=m.sEmptyTable):b=m.sLoadingRecords;var S=document.createElement("td");S.setAttribute("valign","top"),S.colSpan=_fnVisbleColumns(e),S.className=e.oClasses.sRowEmpty,S.innerHTML=_fnInfoMacros(e,b),i[r].appendChild(S)}_fnCallbackFire(e,"aoHeaderCallback","header",[$(e.nTHead).children("tr")[0],_fnGetDataMaster(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),_fnCallbackFire(e,"aoFooterCallback","footer",[$(e.nTFoot).children("tr")[0],_fnGetDataMaster(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]);var v,y=document.createDocumentFragment(),C=document.createDocumentFragment();if(e.nTBody){if(v=e.nTBody.parentNode,C.appendChild(e.nTBody),!e.oScroll.bInfinite||!e._bInitComplete||e.bSorted||e.bFiltered)for(;s=e.nTBody.firstChild;)e.nTBody.removeChild(s);for(n=0,a=i.length;a>n;n++)y.appendChild(i[n]);e.nTBody.appendChild(y),null!==v&&v.appendChild(e.nTBody)}_fnCallbackFire(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1,e.oFeatures.bServerSide&&(_fnProcessingDisplay(e,!1),e._bInitComplete||_fnInitComplete(e))}function _fnReDraw(e){e.oFeatures.bSort?_fnSort(e,e.oPreviousSearch):e.oFeatures.bFilter?_fnFilterComplete(e,e.oPreviousSearch):(_fnCalculateEnd(e),_fnDraw(e))}function _fnAddOptionsHtml(e){var t=$("<div></div>")[0];e.nTable.parentNode.insertBefore(t,e.nTable),e.nTableWrapper=$('<div id="'+e.sTableId+'_wrapper" class="'+e.oClasses.sWrapper+'" role="grid"></div>')[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var n,a,s,i,r,o,l,c=e.nTableWrapper,u=e.sDom.split(""),h=0;u.length>h;h++){if(a=0,s=u[h],"<"==s){if(i=$("<div></div>")[0],r=u[h+1],"'"==r||'"'==r){for(o="",l=2;u[h+l]!=r;)o+=u[h+l],l++;if("H"==o?o=e.oClasses.sJUIHeader:"F"==o&&(o=e.oClasses.sJUIFooter),-1!=o.indexOf(".")){var d=o.split(".");i.id=d[0].substr(1,d[0].length-1),i.className=d[1]}else"#"==o.charAt(0)?i.id=o.substr(1,o.length-1):i.className=o;h+=l}c.appendChild(i),c=i}else if(">"==s)c=c.parentNode;else if("l"==s&&e.oFeatures.bPaginate&&e.oFeatures.bLengthChange)n=_fnFeatureHtmlLength(e),a=1;else if("f"==s&&e.oFeatures.bFilter)n=_fnFeatureHtmlFilter(e),a=1;else if("r"==s&&e.oFeatures.bProcessing)n=_fnFeatureHtmlProcessing(e),a=1;else if("t"==s)n=_fnFeatureHtmlTable(e),a=1;else if("i"==s&&e.oFeatures.bInfo)n=_fnFeatureHtmlInfo(e),a=1;else if("p"==s&&e.oFeatures.bPaginate)n=_fnFeatureHtmlPaginate(e),a=1;else if(0!==DataTable.ext.aoFeatures.length)for(var f=DataTable.ext.aoFeatures,p=0,g=f.length;g>p;p++)if(s==f[p].cFeature){n=f[p].fnInit(e),n&&(a=1);break}1==a&&null!==n&&("object"!=typeof e.aanFeatures[s]&&(e.aanFeatures[s]=[]),e.aanFeatures[s].push(n),c.appendChild(n))}t.parentNode.replaceChild(e.nTableWrapper,t)}function _fnDetectHeader(e,t){var n,a,s,i,r,o,l,c,u,h,d,f=$(t).children("tr"),p=function(e,t,n){for(var a=e[t];a[n];)n++;return n};for(e.splice(0,e.length),s=0,o=f.length;o>s;s++)e.push([]);for(s=0,o=f.length;o>s;s++)for(n=f[s],c=0,a=n.firstChild;a;){if("TD"==a.nodeName.toUpperCase()||"TH"==a.nodeName.toUpperCase())for(u=1*a.getAttribute("colspan"),h=1*a.getAttribute("rowspan"),u=u&&0!==u&&1!==u?u:1,h=h&&0!==h&&1!==h?h:1,l=p(e,s,c),d=1===u?!0:!1,r=0;u>r;r++)for(i=0;h>i;i++)e[s+i][l+r]={cell:a,unique:d},e[s+i].nTr=n;a=a.nextSibling}}function _fnGetUniqueThs(e,t,n){var a=[];n||(n=e.aoHeader,t&&(n=[],_fnDetectHeader(n,t)));for(var s=0,i=n.length;i>s;s++)for(var r=0,o=n[s].length;o>r;r++)!n[s][r].unique||a[r]&&e.bSortCellsTop||(a[r]=n[s][r].cell);return a}function _fnAjaxUpdate(e){if(e.bAjaxDataGet){e.iDraw++,_fnProcessingDisplay(e,!0),e.aoColumns.length;var t=_fnAjaxParameters(e);return _fnServerParams(e,t),e.fnServerData.call(e.oInstance,e.sAjaxSource,t,function(t){_fnAjaxUpdateDraw(e,t)},e),!1}return!0}function _fnAjaxParameters(e){var t,n,a,s,i,r=e.aoColumns.length,o=[];for(o.push({name:"sEcho",value:e.iDraw}),o.push({name:"iColumns",value:r}),o.push({name:"sColumns",value:_fnColumnOrdering(e)}),o.push({name:"iDisplayStart",value:e._iDisplayStart}),o.push({name:"iDisplayLength",value:e.oFeatures.bPaginate!==!1?e._iDisplayLength:-1}),s=0;r>s;s++)t=e.aoColumns[s].mData,o.push({name:"mDataProp_"+s,value:"function"==typeof t?"function":t});if(e.oFeatures.bFilter!==!1)for(o.push({name:"sSearch",value:e.oPreviousSearch.sSearch}),o.push({name:"bRegex",value:e.oPreviousSearch.bRegex}),s=0;r>s;s++)o.push({name:"sSearch_"+s,value:e.aoPreSearchCols[s].sSearch}),o.push({name:"bRegex_"+s,value:e.aoPreSearchCols[s].bRegex}),o.push({name:"bSearchable_"+s,value:e.aoColumns[s].bSearchable});if(e.oFeatures.bSort!==!1){var l=0;for(n=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),s=0;n.length>s;s++)for(a=e.aoColumns[n[s][0]].aDataSort,i=0;a.length>i;i++)o.push({name:"iSortCol_"+l,value:a[i]}),o.push({name:"sSortDir_"+l,value:n[s][1]}),l++;for(o.push({name:"iSortingCols",value:l}),s=0;r>s;s++)o.push({name:"bSortable_"+s,value:e.aoColumns[s].bSortable})}return o}function _fnServerParams(e,t){_fnCallbackFire(e,"aoServerParams","serverParams",[t])}function _fnAjaxUpdateDraw(e,t){if(t.sEcho!==undefined){if(1*t.sEcho<e.iDraw)return;e.iDraw=1*t.sEcho}(!e.oScroll.bInfinite||e.oScroll.bInfinite&&(e.bSorted||e.bFiltered))&&_fnClearTable(e),e._iRecordsTotal=parseInt(t.iTotalRecords,10),e._iRecordsDisplay=parseInt(t.iTotalDisplayRecords,10);var n,a=_fnColumnOrdering(e),s=t.sColumns!==undefined&&""!==a&&t.sColumns!=a;s&&(n=_fnReOrderIndex(e,t.sColumns));for(var i=_fnGetObjectDataFn(e.sAjaxDataProp)(t),r=0,o=i.length;o>r;r++)if(s){for(var l=[],c=0,u=e.aoColumns.length;u>c;c++)l.push(i[r][n[c]]);_fnAddData(e,l)}else _fnAddData(e,i[r]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,_fnDraw(e),e.bAjaxDataGet=!0,_fnProcessingDisplay(e,!1)}function _fnFeatureHtmlFilter(e){var t=e.oPreviousSearch,n=e.oLanguage.sSearch;n=-1!==n.indexOf("_INPUT_")?n.replace("_INPUT_",'<input type="text" />'):""===n?'<input type="text" />':n+' <input type="text" />';var a=document.createElement("div");a.className=e.oClasses.sFilter,a.innerHTML="<label>"+n+"</label>",e.aanFeatures.f||(a.id=e.sTableId+"_filter");var s=$('input[type="text"]',a);return a._DT_Input=s[0],s.val(t.sSearch.replace('"',"&quot;")),s.bind("keyup.DT",function(){for(var n=e.aanFeatures.f,a=""===this.value?"":this.value,s=0,i=n.length;i>s;s++)n[s]!=$(this).parents("div.dataTables_filter")[0]&&$(n[s]._DT_Input).val(a);a!=t.sSearch&&_fnFilterComplete(e,{sSearch:a,bRegex:t.bRegex,bSmart:t.bSmart,bCaseInsensitive:t.bCaseInsensitive})}),s.attr("aria-controls",e.sTableId).bind("keypress.DT",function(e){return 13==e.keyCode?!1:undefined}),a}function _fnFilterComplete(e,t,n){var a=e.oPreviousSearch,s=e.aoPreSearchCols,i=function(e){a.sSearch=e.sSearch,a.bRegex=e.bRegex,a.bSmart=e.bSmart,a.bCaseInsensitive=e.bCaseInsensitive};if(e.oFeatures.bServerSide)i(t);else{_fnFilter(e,t.sSearch,n,t.bRegex,t.bSmart,t.bCaseInsensitive),i(t);for(var r=0;e.aoPreSearchCols.length>r;r++)_fnFilterColumn(e,s[r].sSearch,r,s[r].bRegex,s[r].bSmart,s[r].bCaseInsensitive);_fnFilterCustom(e)}e.bFiltered=!0,$(e.oInstance).trigger("filter",e),e._iDisplayStart=0,_fnCalculateEnd(e),_fnDraw(e),_fnBuildSearchArray(e,0)}function _fnFilterCustom(e){for(var t=DataTable.ext.afnFiltering,n=_fnGetColumns(e,"bSearchable"),a=0,s=t.length;s>a;a++)for(var i=0,r=0,o=e.aiDisplay.length;o>r;r++){var l=e.aiDisplay[r-i],c=t[a](e,_fnGetRowData(e,l,"filter",n),l);c||(e.aiDisplay.splice(r-i,1),i++)}}function _fnFilterColumn(e,t,n,a,s,i){if(""!==t)for(var r=0,o=_fnFilterCreateSearch(t,a,s,i),l=e.aiDisplay.length-1;l>=0;l--){var c=_fnDataToSearch(_fnGetCellData(e,e.aiDisplay[l],n,"filter"),e.aoColumns[n].sType);o.test(c)||(e.aiDisplay.splice(l,1),r++)}}function _fnFilter(e,t,n,a,s,i){var r,o=_fnFilterCreateSearch(t,a,s,i),l=e.oPreviousSearch;if(n||(n=0),0!==DataTable.ext.afnFiltering.length&&(n=1),0>=t.length)e.aiDisplay.splice(0,e.aiDisplay.length),e.aiDisplay=e.aiDisplayMaster.slice();else if(e.aiDisplay.length==e.aiDisplayMaster.length||l.sSearch.length>t.length||1==n||0!==t.indexOf(l.sSearch))for(e.aiDisplay.splice(0,e.aiDisplay.length),_fnBuildSearchArray(e,1),r=0;e.aiDisplayMaster.length>r;r++)o.test(e.asDataSearch[r])&&e.aiDisplay.push(e.aiDisplayMaster[r]);else{var c=0;for(r=0;e.asDataSearch.length>r;r++)o.test(e.asDataSearch[r])||(e.aiDisplay.splice(r-c,1),c++)}}function _fnBuildSearchArray(e,t){if(!e.oFeatures.bServerSide){e.asDataSearch=[];for(var n=_fnGetColumns(e,"bSearchable"),a=1===t?e.aiDisplayMaster:e.aiDisplay,s=0,i=a.length;i>s;s++)e.asDataSearch[s]=_fnBuildSearchRow(e,_fnGetRowData(e,a[s],"filter",n))}}function _fnBuildSearchRow(e,t){var n=t.join("  ");return-1!==n.indexOf("&")&&(n=$("<div>").html(n).text()),n.replace(/[\n\r]/g," ")}function _fnFilterCreateSearch(e,t,n,a){var s,i;return n?(s=t?e.split(" "):_fnEscapeRegex(e).split(" "),i="^(?=.*?"+s.join(")(?=.*?")+").*$",RegExp(i,a?"i":"")):(e=t?e:_fnEscapeRegex(e),RegExp(e,a?"i":""))}function _fnDataToSearch(e,t){return"function"==typeof DataTable.ext.ofnSearch[t]?DataTable.ext.ofnSearch[t](e):null===e?"":"html"==t?e.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"==typeof e?e.replace(/[\r\n]/g," "):e}function _fnEscapeRegex(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"],n=RegExp("(\\"+t.join("|\\")+")","g");return e.replace(n,"\\$1")}function _fnFeatureHtmlInfo(e){var t=document.createElement("div");return t.className=e.oClasses.sInfo,e.aanFeatures.i||(e.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"}),t.id=e.sTableId+"_info"),e.nTable.setAttribute("aria-describedby",e.sTableId+"_info"),t}function _fnUpdateInfo(e){if(e.oFeatures.bInfo&&0!==e.aanFeatures.i.length){var t,n=e.oLanguage,a=e._iDisplayStart+1,s=e.fnDisplayEnd(),i=e.fnRecordsTotal(),r=e.fnRecordsDisplay();t=0===r?n.sInfoEmpty:n.sInfo,r!=i&&(t+=" "+n.sInfoFiltered),t+=n.sInfoPostFix,t=_fnInfoMacros(e,t),null!==n.fnInfoCallback&&(t=n.fnInfoCallback.call(e.oInstance,e,a,s,i,r,t));for(var o=e.aanFeatures.i,l=0,c=o.length;c>l;l++)$(o[l]).html(t)}}function _fnInfoMacros(e,t){var n=e._iDisplayStart+1,a=e.fnFormatNumber(n),s=e.fnDisplayEnd(),i=e.fnFormatNumber(s),r=e.fnRecordsDisplay(),o=e.fnFormatNumber(r),l=e.fnRecordsTotal(),c=e.fnFormatNumber(l);return e.oScroll.bInfinite&&(a=e.fnFormatNumber(1)),t.replace(/_START_/g,a).replace(/_END_/g,i).replace(/_TOTAL_/g,o).replace(/_MAX_/g,c)}function _fnInitialise(e){var t,n,a=e.iInitDisplayStart;if(e.bInitialised===!1)return setTimeout(function(){_fnInitialise(e)},200),undefined;for(_fnAddOptionsHtml(e),_fnBuildHead(e),_fnDrawHead(e,e.aoHeader),e.nTFoot&&_fnDrawHead(e,e.aoFooter),_fnProcessingDisplay(e,!0),e.oFeatures.bAutoWidth&&_fnCalculateColumnWidths(e),t=0,n=e.aoColumns.length;n>t;t++)null!==e.aoColumns[t].sWidth&&(e.aoColumns[t].nTh.style.width=_fnStringToCss(e.aoColumns[t].sWidth));if(e.oFeatures.bSort?_fnSort(e):e.oFeatures.bFilter?_fnFilterComplete(e,e.oPreviousSearch):(e.aiDisplay=e.aiDisplayMaster.slice(),_fnCalculateEnd(e),_fnDraw(e)),null!==e.sAjaxSource&&!e.oFeatures.bServerSide){var s=[];return _fnServerParams(e,s),e.fnServerData.call(e.oInstance,e.sAjaxSource,s,function(n){var s=""!==e.sAjaxDataProp?_fnGetObjectDataFn(e.sAjaxDataProp)(n):n;for(t=0;s.length>t;t++)_fnAddData(e,s[t]);e.iInitDisplayStart=a,e.oFeatures.bSort?_fnSort(e):(e.aiDisplay=e.aiDisplayMaster.slice(),_fnCalculateEnd(e),_fnDraw(e)),_fnProcessingDisplay(e,!1),_fnInitComplete(e,n)},e),undefined}e.oFeatures.bServerSide||(_fnProcessingDisplay(e,!1),_fnInitComplete(e))}function _fnInitComplete(e,t){e._bInitComplete=!0,_fnCallbackFire(e,"aoInitComplete","init",[e,t])}function _fnLanguageCompat(e){var t=DataTable.defaults.oLanguage;!e.sEmptyTable&&e.sZeroRecords&&"No data available in table"===t.sEmptyTable&&_fnMap(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&e.sZeroRecords&&"Loading..."===t.sLoadingRecords&&_fnMap(e,e,"sZeroRecords","sLoadingRecords")}function _fnFeatureHtmlLength(e){if(e.oScroll.bInfinite)return null;var t,n,a='name="'+e.sTableId+'_length"',s='<select size="1" '+a+">",i=e.aLengthMenu;if(2==i.length&&"object"==typeof i[0]&&"object"==typeof i[1])for(t=0,n=i[0].length;n>t;t++)s+='<option value="'+i[0][t]+'">'+i[1][t]+"</option>";else for(t=0,n=i.length;n>t;t++)s+='<option value="'+i[t]+'">'+i[t]+"</option>";s+="</select>";var r=document.createElement("div");return e.aanFeatures.l||(r.id=e.sTableId+"_length"),r.className=e.oClasses.sLength,r.innerHTML="<label>"+e.oLanguage.sLengthMenu.replace("_MENU_",s)+"</label>",$('select option[value="'+e._iDisplayLength+'"]',r).attr("selected",!0),$("select",r).bind("change.DT",function(){var a=$(this).val(),s=e.aanFeatures.l;for(t=0,n=s.length;n>t;t++)s[t]!=this.parentNode&&$("select",s[t]).val(a);e._iDisplayLength=parseInt(a,10),_fnCalculateEnd(e),e.fnDisplayEnd()==e.fnRecordsDisplay()&&(e._iDisplayStart=e.fnDisplayEnd()-e._iDisplayLength,0>e._iDisplayStart&&(e._iDisplayStart=0)),-1==e._iDisplayLength&&(e._iDisplayStart=0),_fnDraw(e)}),$("select",r).attr("aria-controls",e.sTableId),r}function _fnCalculateEnd(e){e._iDisplayEnd=e.oFeatures.bPaginate===!1?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength>e.aiDisplay.length||-1==e._iDisplayLength?e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength}function _fnFeatureHtmlPaginate(e){if(e.oScroll.bInfinite)return null;var t=document.createElement("div");return t.className=e.oClasses.sPaging+e.sPaginationType,DataTable.ext.oPagination[e.sPaginationType].fnInit(e,t,function(e){_fnCalculateEnd(e),_fnDraw(e)}),e.aanFeatures.p||e.aoDrawCallback.push({fn:function(e){DataTable.ext.oPagination[e.sPaginationType].fnUpdate(e,function(e){_fnCalculateEnd(e),_fnDraw(e)})},sName:"pagination"}),t}function _fnPageChange(e,t){var n=e._iDisplayStart;if("number"==typeof t)e._iDisplayStart=t*e._iDisplayLength,e._iDisplayStart>e.fnRecordsDisplay()&&(e._iDisplayStart=0);else if("first"==t)e._iDisplayStart=0;else if("previous"==t)e._iDisplayStart=e._iDisplayLength>=0?e._iDisplayStart-e._iDisplayLength:0,0>e._iDisplayStart&&(e._iDisplayStart=0);else if("next"==t)e._iDisplayLength>=0?e._iDisplayStart+e._iDisplayLength<e.fnRecordsDisplay()&&(e._iDisplayStart+=e._iDisplayLength):e._iDisplayStart=0;else if("last"==t)if(e._iDisplayLength>=0){var a=parseInt((e.fnRecordsDisplay()-1)/e._iDisplayLength,10)+1;e._iDisplayStart=(a-1)*e._iDisplayLength}else e._iDisplayStart=0;else _fnLog(e,0,"Unknown paging action: "+t);return $(e.oInstance).trigger("page",e),n!=e._iDisplayStart}function _fnFeatureHtmlProcessing(e){var t=document.createElement("div");return e.aanFeatures.r||(t.id=e.sTableId+"_processing"),t.innerHTML=e.oLanguage.sProcessing,t.className=e.oClasses.sProcessing,e.nTable.parentNode.insertBefore(t,e.nTable),t}function _fnProcessingDisplay(e,t){if(e.oFeatures.bProcessing)for(var n=e.aanFeatures.r,a=0,s=n.length;s>a;a++)n[a].style.visibility=t?"visible":"hidden";$(e.oInstance).trigger("processing",[e,t])}function _fnFeatureHtmlTable(e){if(""===e.oScroll.sX&&""===e.oScroll.sY)return e.nTable;var t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),o=e.nTable.cloneNode(!1),l=e.nTable.cloneNode(!1),c=e.nTable.getElementsByTagName("thead")[0],u=0===e.nTable.getElementsByTagName("tfoot").length?null:e.nTable.getElementsByTagName("tfoot")[0],h=e.oClasses;n.appendChild(a),i.appendChild(r),s.appendChild(e.nTable),t.appendChild(n),t.appendChild(s),a.appendChild(o),o.appendChild(c),null!==u&&(t.appendChild(i),r.appendChild(l),l.appendChild(u)),t.className=h.sScrollWrapper,n.className=h.sScrollHead,a.className=h.sScrollHeadInner,s.className=h.sScrollBody,i.className=h.sScrollFoot,r.className=h.sScrollFootInner,e.oScroll.bAutoCss&&(n.style.overflow="hidden",n.style.position="relative",i.style.overflow="hidden",s.style.overflow="auto"),n.style.border="0",n.style.width="100%",i.style.border="0",a.style.width=""!==e.oScroll.sXInner?e.oScroll.sXInner:"100%",o.removeAttribute("id"),o.style.marginLeft="0",e.nTable.style.marginLeft="0",null!==u&&(l.removeAttribute("id"),l.style.marginLeft="0");var d=$(e.nTable).children("caption");return d.length>0&&(d=d[0],"top"===d._captionSide?o.appendChild(d):"bottom"===d._captionSide&&u&&l.appendChild(d)),""!==e.oScroll.sX&&(n.style.width=_fnStringToCss(e.oScroll.sX),s.style.width=_fnStringToCss(e.oScroll.sX),null!==u&&(i.style.width=_fnStringToCss(e.oScroll.sX)),$(s).scroll(function(){n.scrollLeft=this.scrollLeft,null!==u&&(i.scrollLeft=this.scrollLeft)})),""!==e.oScroll.sY&&(s.style.height=_fnStringToCss(e.oScroll.sY)),e.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"}),e.oScroll.bInfinite&&$(s).scroll(function(){e.bDrawing||0===$(this).scrollTop()||$(this).scrollTop()+$(this).height()>$(e.nTable).height()-e.oScroll.iLoadGap&&e.fnDisplayEnd()<e.fnRecordsDisplay()&&(_fnPageChange(e,"next"),_fnCalculateEnd(e),_fnDraw(e))}),e.nScrollHead=n,e.nScrollFoot=i,t}function _fnScrollDraw(e){var t,n,a,s,i,r,o,l,c,u,h,d=e.nScrollHead.getElementsByTagName("div")[0],f=d.getElementsByTagName("table")[0],p=e.nTable.parentNode,g=[],m=[],b=null!==e.nTFoot?e.nScrollFoot.getElementsByTagName("div")[0]:null,S=null!==e.nTFoot?b.getElementsByTagName("table")[0]:null,v=e.oBrowser.bScrollOversize,y=function(e){o=e.style,o.paddingTop="0",o.paddingBottom="0",o.borderTopWidth="0",o.borderBottomWidth="0",o.height=0};$(e.nTable).children("thead, tfoot").remove(),c=$(e.nTHead).clone()[0],e.nTable.insertBefore(c,e.nTable.childNodes[0]),a=e.nTHead.getElementsByTagName("tr"),s=c.getElementsByTagName("tr"),null!==e.nTFoot&&(u=$(e.nTFoot).clone()[0],e.nTable.insertBefore(u,e.nTable.childNodes[1]),r=e.nTFoot.getElementsByTagName("tr"),i=u.getElementsByTagName("tr")),""===e.oScroll.sX&&(p.style.width="100%",d.parentNode.style.width="100%");var C=_fnGetUniqueThs(e,c);for(t=0,n=C.length;n>t;t++)l=_fnVisibleToColumnIndex(e,t),C[t].style.width=e.aoColumns[l].sWidth;if(null!==e.nTFoot&&_fnApplyToChildren(function(e){e.style.width=""},i),e.oScroll.bCollapse&&""!==e.oScroll.sY&&(p.style.height=p.offsetHeight+e.nTHead.offsetHeight+"px"),h=$(e.nTable).outerWidth(),""===e.oScroll.sX?(e.nTable.style.width="100%",v&&($("tbody",p).height()>p.offsetHeight||"scroll"==$(p).css("overflow-y"))&&(e.nTable.style.width=_fnStringToCss($(e.nTable).outerWidth()-e.oScroll.iBarWidth))):""!==e.oScroll.sXInner?e.nTable.style.width=_fnStringToCss(e.oScroll.sXInner):h==$(p).width()&&$(p).height()<$(e.nTable).height()?(e.nTable.style.width=_fnStringToCss(h-e.oScroll.iBarWidth),$(e.nTable).outerWidth()>h-e.oScroll.iBarWidth&&(e.nTable.style.width=_fnStringToCss(h))):e.nTable.style.width=_fnStringToCss(h),h=$(e.nTable).outerWidth(),_fnApplyToChildren(y,s),_fnApplyToChildren(function(e){g.push(_fnStringToCss($(e).width()))},s),_fnApplyToChildren(function(e,t){e.style.width=g[t]},a),$(s).height(0),null!==e.nTFoot&&(_fnApplyToChildren(y,i),_fnApplyToChildren(function(e){m.push(_fnStringToCss($(e).width()))},i),_fnApplyToChildren(function(e,t){e.style.width=m[t]},r),$(i).height(0)),_fnApplyToChildren(function(e,t){e.innerHTML="",e.style.width=g[t]},s),null!==e.nTFoot&&_fnApplyToChildren(function(e,t){e.innerHTML="",e.style.width=m[t]},i),h>$(e.nTable).outerWidth()){var _=p.scrollHeight>p.offsetHeight||"scroll"==$(p).css("overflow-y")?h+e.oScroll.iBarWidth:h;v&&(p.scrollHeight>p.offsetHeight||"scroll"==$(p).css("overflow-y"))&&(e.nTable.style.width=_fnStringToCss(_-e.oScroll.iBarWidth)),p.style.width=_fnStringToCss(_),e.nScrollHead.style.width=_fnStringToCss(_),null!==e.nTFoot&&(e.nScrollFoot.style.width=_fnStringToCss(_)),""===e.oScroll.sX?_fnLog(e,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==e.oScroll.sXInner&&_fnLog(e,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}else p.style.width=_fnStringToCss("100%"),e.nScrollHead.style.width=_fnStringToCss("100%"),null!==e.nTFoot&&(e.nScrollFoot.style.width=_fnStringToCss("100%"));if(""===e.oScroll.sY&&v&&(p.style.height=_fnStringToCss(e.nTable.offsetHeight+e.oScroll.iBarWidth)),""!==e.oScroll.sY&&e.oScroll.bCollapse){p.style.height=_fnStringToCss(e.oScroll.sY);var T=""!==e.oScroll.sX&&e.nTable.offsetWidth>p.offsetWidth?e.oScroll.iBarWidth:0;e.nTable.offsetHeight<p.offsetHeight&&(p.style.height=_fnStringToCss(e.nTable.offsetHeight+T))}var D=$(e.nTable).outerWidth();f.style.width=_fnStringToCss(D),d.style.width=_fnStringToCss(D);var w=$(e.nTable).height()>p.clientHeight||"scroll"==$(p).css("overflow-y");d.style.paddingRight=w?e.oScroll.iBarWidth+"px":"0px",null!==e.nTFoot&&(S.style.width=_fnStringToCss(D),b.style.width=_fnStringToCss(D),b.style.paddingRight=w?e.oScroll.iBarWidth+"px":"0px"),$(p).scroll(),(e.bSorted||e.bFiltered)&&(p.scrollTop=0)}function _fnApplyToChildren(e,t,n){for(var a,s,i=0,r=0,o=t.length;o>r;){for(a=t[r].firstChild,s=n?n[r].firstChild:null;a;)1===a.nodeType&&(n?e(a,s,i):e(a,i),i++),a=a.nextSibling,s=n?s.nextSibling:null;r++}}function _fnConvertToWidth(e,t){if(!e||null===e||""===e)return 0;t||(t=document.body);var n,a=document.createElement("div");return a.style.width=_fnStringToCss(e),t.appendChild(a),n=a.offsetWidth,t.removeChild(a),n}function _fnCalculateColumnWidths(e){e.nTable.offsetWidth;var t,n,a,s,i=0,r=0,o=e.aoColumns.length,l=$("th",e.nTHead),c=e.nTable.getAttribute("width"),u=e.nTable.parentNode;for(n=0;o>n;n++)e.aoColumns[n].bVisible&&(r++,null!==e.aoColumns[n].sWidth&&(t=_fnConvertToWidth(e.aoColumns[n].sWidthOrig,u),null!==t&&(e.aoColumns[n].sWidth=_fnStringToCss(t)),i++));if(o==l.length&&0===i&&r==o&&""===e.oScroll.sX&&""===e.oScroll.sY)for(n=0;e.aoColumns.length>n;n++)t=$(l[n]).width(),null!==t&&(e.aoColumns[n].sWidth=_fnStringToCss(t));else{var h=e.nTable.cloneNode(!1),d=e.nTHead.cloneNode(!0),f=document.createElement("tbody"),p=document.createElement("tr");h.removeAttribute("id"),h.appendChild(d),null!==e.nTFoot&&(h.appendChild(e.nTFoot.cloneNode(!0)),_fnApplyToChildren(function(e){e.style.width=""},h.getElementsByTagName("tr"))),h.appendChild(f),f.appendChild(p);var g=$("thead th",h);0===g.length&&(g=$("tbody tr:eq(0)>td",h));var m=_fnGetUniqueThs(e,d);for(a=0,n=0;o>n;n++){var b=e.aoColumns[n];b.bVisible&&null!==b.sWidthOrig&&""!==b.sWidthOrig?m[n-a].style.width=_fnStringToCss(b.sWidthOrig):b.bVisible?m[n-a].style.width="":a++}for(n=0;o>n;n++)if(e.aoColumns[n].bVisible){var S=_fnGetWidestNode(e,n);null!==S&&(S=S.cloneNode(!0),""!==e.aoColumns[n].sContentPadding&&(S.innerHTML+=e.aoColumns[n].sContentPadding),p.appendChild(S))}u.appendChild(h),""!==e.oScroll.sX&&""!==e.oScroll.sXInner?h.style.width=_fnStringToCss(e.oScroll.sXInner):""!==e.oScroll.sX?(h.style.width="",$(h).width()<u.offsetWidth&&(h.style.width=_fnStringToCss(u.offsetWidth))):""!==e.oScroll.sY?h.style.width=_fnStringToCss(u.offsetWidth):c&&(h.style.width=_fnStringToCss(c)),h.style.visibility="hidden",_fnScrollingWidthAdjust(e,h);var v=$("tbody tr:eq(0)",h).children();if(0===v.length&&(v=_fnGetUniqueThs(e,$("thead",h)[0])),""!==e.oScroll.sX){var y=0;for(a=0,n=0;e.aoColumns.length>n;n++)e.aoColumns[n].bVisible&&(y+=null===e.aoColumns[n].sWidthOrig?$(v[a]).outerWidth():parseInt(e.aoColumns[n].sWidth.replace("px",""),10)+($(v[a]).outerWidth()-$(v[a]).width()),a++);h.style.width=_fnStringToCss(y),e.nTable.style.width=_fnStringToCss(y)}for(a=0,n=0;e.aoColumns.length>n;n++)e.aoColumns[n].bVisible&&(s=$(v[a]).width(),null!==s&&s>0&&(e.aoColumns[n].sWidth=_fnStringToCss(s)),a++);var C=$(h).css("width");e.nTable.style.width=-1!==C.indexOf("%")?C:_fnStringToCss($(h).outerWidth()),h.parentNode.removeChild(h)}c&&(e.nTable.style.width=_fnStringToCss(c))}function _fnScrollingWidthAdjust(e,t){""===e.oScroll.sX&&""!==e.oScroll.sY?($(t).width(),t.style.width=_fnStringToCss($(t).outerWidth()-e.oScroll.iBarWidth)):""!==e.oScroll.sX&&(t.style.width=_fnStringToCss($(t).outerWidth()))}function _fnGetWidestNode(e,t){var n=_fnGetMaxLenString(e,t);if(0>n)return null;if(null===e.aoData[n].nTr){var a=document.createElement("td");return a.innerHTML=_fnGetCellData(e,n,t,""),a}return _fnGetTdNodes(e,n)[t]}function _fnGetMaxLenString(e,t){for(var n=-1,a=-1,s=0;e.aoData.length>s;s++){var i=_fnGetCellData(e,s,t,"display")+"";i=i.replace(/<.*?>/g,""),i.length>n&&(n=i.length,a=s)}return a}function _fnStringToCss(e){if(null===e)return"0px";if("number"==typeof e)return 0>e?"0px":e+"px";var t=e.charCodeAt(e.length-1);return 48>t||t>57?e:e+"px"}function _fnScrollBarWidth(){var e=document.createElement("p"),t=e.style;t.width="100%",t.height="200px",t.padding="0px";var n=document.createElement("div");t=n.style,t.position="absolute",t.top="0px",t.left="0px",t.visibility="hidden",t.width="200px",t.height="150px",t.padding="0px",t.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var a=e.offsetWidth;n.style.overflow="scroll";var s=e.offsetWidth;return a==s&&(s=n.clientWidth),document.body.removeChild(n),a-s}function _fnSort(e,t){var n,a,s,i,r,o,l,c,u=[],h=[],d=DataTable.ext.oSort,f=e.aoData,p=e.aoColumns,g=e.oLanguage.oAria;if(!e.oFeatures.bServerSide&&(0!==e.aaSorting.length||null!==e.aaSortingFixed)){for(u=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),n=0;u.length>n;n++){var m=u[n][0],b=_fnColumnIndexToVisible(e,m);if(l=e.aoColumns[m].sSortDataType,DataTable.ext.afnSortData[l]){var S=DataTable.ext.afnSortData[l].call(e.oInstance,e,m,b);if(S.length===f.length)for(s=0,i=f.length;i>s;s++)_fnSetCellData(e,s,m,S[s]);else _fnLog(e,0,"Returned data sort array (col "+m+") is the wrong length")}}for(n=0,a=e.aiDisplayMaster.length;a>n;n++)h[e.aiDisplayMaster[n]]=n;var v,y,C=u.length;for(n=0,a=f.length;a>n;n++)for(s=0;C>s;s++)for(y=p[u[s][0]].aDataSort,r=0,o=y.length;o>r;r++)l=p[y[r]].sType,v=d[(l?l:"string")+"-pre"],f[n]._aSortData[y[r]]=v?v(_fnGetCellData(e,n,y[r],"sort")):_fnGetCellData(e,n,y[r],"sort");e.aiDisplayMaster.sort(function(e,t){var n,a,s,i,r,o;for(n=0;C>n;n++)for(r=p[u[n][0]].aDataSort,a=0,s=r.length;s>a;a++)if(o=p[r[a]].sType,i=d[(o?o:"string")+"-"+u[n][1]](f[e]._aSortData[r[a]],f[t]._aSortData[r[a]]),0!==i)return i;return d["numeric-asc"](h[e],h[t])})}for(t!==undefined&&!t||e.oFeatures.bDeferRender||_fnSortingClasses(e),n=0,a=e.aoColumns.length;a>n;n++){var _=p[n].sTitle.replace(/<.*?>/g,"");if(c=p[n].nTh,c.removeAttribute("aria-sort"),c.removeAttribute("aria-label"),p[n].bSortable)if(u.length>0&&u[0][0]==n){c.setAttribute("aria-sort","asc"==u[0][1]?"ascending":"descending");var T=p[n].asSorting[u[0][2]+1]?p[n].asSorting[u[0][2]+1]:p[n].asSorting[0];c.setAttribute("aria-label",_+("asc"==T?g.sSortAscending:g.sSortDescending))}else c.setAttribute("aria-label",_+("asc"==p[n].asSorting[0]?g.sSortAscending:g.sSortDescending));else c.setAttribute("aria-label",_)}e.bSorted=!0,$(e.oInstance).trigger("sort",e),e.oFeatures.bFilter?_fnFilterComplete(e,e.oPreviousSearch,1):(e.aiDisplay=e.aiDisplayMaster.slice(),e._iDisplayStart=0,_fnCalculateEnd(e),_fnDraw(e))}function _fnSortAttachListener(e,t,n,a){_fnBindAction(t,{},function(t){if(e.aoColumns[n].bSortable!==!1){var s=function(){var a,s;if(t.shiftKey){for(var i=!1,r=0;e.aaSorting.length>r;r++)if(e.aaSorting[r][0]==n){i=!0,a=e.aaSorting[r][0],s=e.aaSorting[r][2]+1,e.aoColumns[a].asSorting[s]?(e.aaSorting[r][1]=e.aoColumns[a].asSorting[s],e.aaSorting[r][2]=s):e.aaSorting.splice(r,1);break}i===!1&&e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0])}else 1==e.aaSorting.length&&e.aaSorting[0][0]==n?(a=e.aaSorting[0][0],s=e.aaSorting[0][2]+1,e.aoColumns[a].asSorting[s]||(s=0),e.aaSorting[0][1]=e.aoColumns[a].asSorting[s],e.aaSorting[0][2]=s):(e.aaSorting.splice(0,e.aaSorting.length),e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0]));_fnSort(e)};e.oFeatures.bProcessing?(_fnProcessingDisplay(e,!0),setTimeout(function(){s(),e.oFeatures.bServerSide||_fnProcessingDisplay(e,!1)},0)):s(),"function"==typeof a&&a(e)}})}function _fnSortingClasses(e){var t,n,a,s,i,r,o=e.aoColumns.length,l=e.oClasses;for(t=0;o>t;t++)e.aoColumns[t].bSortable&&$(e.aoColumns[t].nTh).removeClass(l.sSortAsc+" "+l.sSortDesc+" "+e.aoColumns[t].sSortingClass);for(i=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),t=0;e.aoColumns.length>t;t++)if(e.aoColumns[t].bSortable){for(r=e.aoColumns[t].sSortingClass,s=-1,a=0;i.length>a;a++)if(i[a][0]==t){r="asc"==i[a][1]?l.sSortAsc:l.sSortDesc,s=a;break}if($(e.aoColumns[t].nTh).addClass(r),e.bJUI){var c=$("span."+l.sSortIcon,e.aoColumns[t].nTh);c.removeClass(l.sSortJUIAsc+" "+l.sSortJUIDesc+" "+l.sSortJUI+" "+l.sSortJUIAscAllowed+" "+l.sSortJUIDescAllowed);var u;u=-1==s?e.aoColumns[t].sSortingClassJUI:"asc"==i[s][1]?l.sSortJUIAsc:l.sSortJUIDesc,c.addClass(u)}}else $(e.aoColumns[t].nTh).addClass(e.aoColumns[t].sSortingClass);if(r=l.sSortColumn,e.oFeatures.bSort&&e.oFeatures.bSortClasses){var h,d,f=_fnGetTdNodes(e),p=[];for(t=0;o>t;t++)p.push("");for(t=0,h=1;i.length>t;t++)d=parseInt(i[t][0],10),p[d]=r+h,3>h&&h++;var g,m,b,S=RegExp(r+"[123]");for(t=0,n=f.length;n>t;t++)d=t%o,m=f[t].className,b=p[d],g=m.replace(S,b),g!=m?f[t].className=$.trim(g):b.length>0&&-1==m.indexOf(b)&&(f[t].className=m+" "+b)}}function _fnSaveState(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var t,n,a=e.oScroll.bInfinite,s={iCreate:(new Date).getTime(),iStart:a?0:e._iDisplayStart,iEnd:a?e._iDisplayLength:e._iDisplayEnd,iLength:e._iDisplayLength,aaSorting:$.extend(!0,[],e.aaSorting),oSearch:$.extend(!0,{},e.oPreviousSearch),aoSearchCols:$.extend(!0,[],e.aoPreSearchCols),abVisCols:[]};for(t=0,n=e.aoColumns.length;n>t;t++)s.abVisCols.push(e.aoColumns[t].bVisible);_fnCallbackFire(e,"aoStateSaveParams","stateSaveParams",[e,s]),e.fnStateSave.call(e.oInstance,e,s)}}function _fnLoadState(e,t){if(e.oFeatures.bStateSave){var n=e.fnStateLoad.call(e.oInstance,e);if(n){var a=_fnCallbackFire(e,"aoStateLoadParams","stateLoadParams",[e,n]);if(-1===$.inArray(!1,a)){e.oLoadedState=$.extend(!0,{},n),e._iDisplayStart=n.iStart,e.iInitDisplayStart=n.iStart,e._iDisplayEnd=n.iEnd,e._iDisplayLength=n.iLength,e.aaSorting=n.aaSorting.slice(),e.saved_aaSorting=n.aaSorting.slice(),$.extend(e.oPreviousSearch,n.oSearch),$.extend(!0,e.aoPreSearchCols,n.aoSearchCols),t.saved_aoColumns=[];for(var s=0;n.abVisCols.length>s;s++)t.saved_aoColumns[s]={},t.saved_aoColumns[s].bVisible=n.abVisCols[s];_fnCallbackFire(e,"aoStateLoaded","stateLoaded",[e,n])}}}}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var date=new Date;date.setTime(date.getTime()+1e3*iSecs);var aParts=window.location.pathname.split("/"),sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase(),sFullCookie,oData;null!==fnCallback?(oData="function"==typeof $.parseJSON?$.parseJSON(sValue):eval("("+sValue+")"),sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")):sFullCookie=sNameFile+"="+encodeURIComponent(sValue)+"; expires="+date.toGMTString()+"; path="+aParts.join("/")+"/";var aCookies=document.cookie.split(";"),iNewCookieLen=sFullCookie.split(";")[0].length,aOldCookies=[];if(iNewCookieLen+document.cookie.length+10>4096){for(var i=0,iLen=aCookies.length;iLen>i;i++)if(-1!=aCookies[i].indexOf(sBaseName)){var aSplitCookie=aCookies[i].split("=");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")"),oData&&oData.iCreate&&aOldCookies.push({name:aSplitCookie[0],time:oData.iCreate})}catch(e){}}for(aOldCookies.sort(function(e,t){return t.time-e.time});iNewCookieLen+document.cookie.length+10>4096;){if(0===aOldCookies.length)return;var old=aOldCookies.pop();document.cookie=old.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+aParts.join("/")+"/"}}document.cookie=sFullCookie}function _fnReadCookie(e){for(var t=window.location.pathname.split("/"),n=e+"_"+t[t.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",a=document.cookie.split(";"),s=0;a.length>s;s++){for(var i=a[s];" "==i.charAt(0);)i=i.substring(1,i.length);
if(0===i.indexOf(n))return decodeURIComponent(i.substring(n.length,i.length))}return null}function _fnSettingsFromNode(e){for(var t=0;DataTable.settings.length>t;t++)if(DataTable.settings[t].nTable===e)return DataTable.settings[t];return null}function _fnGetTrNodes(e){for(var t=[],n=e.aoData,a=0,s=n.length;s>a;a++)null!==n[a].nTr&&t.push(n[a].nTr);return t}function _fnGetTdNodes(e,t){var n,a,s,i,r,o,l,c,u=[],h=e.aoData.length,d=0,f=h;for(t!==undefined&&(d=t,f=t+1),i=d;f>i;i++)if(l=e.aoData[i],null!==l.nTr){for(a=[],s=l.nTr.firstChild;s;)c=s.nodeName.toLowerCase(),("td"==c||"th"==c)&&a.push(s),s=s.nextSibling;for(n=0,r=0,o=e.aoColumns.length;o>r;r++)e.aoColumns[r].bVisible?u.push(a[r-n]):(u.push(l._anHidden[r]),n++)}return u}function _fnLog(e,t,n){var a=null===e?"DataTables warning: "+n:"DataTables warning (table id = '"+e.sTableId+"'): "+n;if(0===t){if("alert"!=DataTable.ext.sErrMode)throw Error(a);return alert(a),undefined}window.console&&console.log&&console.log(a)}function _fnMap(e,t,n,a){a===undefined&&(a=n),t[n]!==undefined&&(e[a]=t[n])}function _fnExtend(e,t){var n;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],"object"==typeof oInit[a]&&null!==n&&$.isArray(n)===!1?$.extend(!0,e[a],n):e[a]=n);return e}function _fnBindAction(e,t,n){$(e).bind("click.DT",t,function(t){e.blur(),n(t)}).bind("keypress.DT",t,function(e){13===e.which&&n(e)}).bind("selectstart.DT",function(){return!1})}function _fnCallbackReg(e,t,n,a){n&&e[t].push({fn:n,sName:a})}function _fnCallbackFire(e,t,n,a){for(var s=e[t],i=[],r=s.length-1;r>=0;r--)i.push(s[r].fn.apply(e.oInstance,a));return null!==n&&$(e.oInstance).trigger(n,a),i}function _fnBrowserDetect(e){var t=$('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];document.body.appendChild(t),e.oBrowser.bScrollOversize=100===$("#DT_BrowserTest",t)[0].offsetWidth?!0:!1,document.body.removeChild(t)}function _fnExternApiFunc(e){return function(){var t=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.oApi[e].apply(this,t)}}var __reArray=/\[.*?\]$/,_fnJsonString=window.JSON?JSON.stringify:function(e){var t=typeof e;if("object"!==t||null===e)return"string"===t&&(e='"'+e+'"'),e+"";var n,a,s=[],i=$.isArray(e);for(n in e)a=e[n],t=typeof a,"string"===t?a='"'+a+'"':"object"===t&&null!==a&&(a=_fnJsonString(a)),s.push((i?"":'"'+n+'":')+a);return(i?"[":"{")+s+(i?"]":"}")};this.$=function(e,t){var n,a,s,i=[],r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),o=r.aoData,l=r.aiDisplay,c=r.aiDisplayMaster;if(t||(t={}),t=$.extend({},{filter:"none",order:"current",page:"all"},t),"current"==t.page)for(n=r._iDisplayStart,a=r.fnDisplayEnd();a>n;n++)s=o[l[n]].nTr,s&&i.push(s);else if("current"==t.order&&"none"==t.filter)for(n=0,a=c.length;a>n;n++)s=o[c[n]].nTr,s&&i.push(s);else if("current"==t.order&&"applied"==t.filter)for(n=0,a=l.length;a>n;n++)s=o[l[n]].nTr,s&&i.push(s);else if("original"==t.order&&"none"==t.filter)for(n=0,a=o.length;a>n;n++)s=o[n].nTr,s&&i.push(s);else if("original"==t.order&&"applied"==t.filter)for(n=0,a=o.length;a>n;n++)s=o[n].nTr,-1!==$.inArray(n,l)&&s&&i.push(s);else _fnLog(r,1,"Unknown selection options");var u=$(i),h=u.filter(e),d=u.find(e);return $([].concat($.makeArray(h),$.makeArray(d)))},this._=function(e,t){var n,a,s=[],i=this.$(e,t);for(n=0,a=i.length;a>n;n++)s.push(this.fnGetData(i[n]));return s},this.fnAddData=function(e,t){if(0===e.length)return[];var n,a=[],s=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if("object"==typeof e[0]&&null!==e[0])for(var i=0;e.length>i;i++){if(n=_fnAddData(s,e[i]),-1==n)return a;a.push(n)}else{if(n=_fnAddData(s,e),-1==n)return a;a.push(n)}return s.aiDisplay=s.aiDisplayMaster.slice(),(t===undefined||t)&&_fnReDraw(s),a},this.fnAdjustColumnSizing=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnAdjustColumnSizing(t),e===undefined||e?this.fnDraw(!1):(""!==t.oScroll.sX||""!==t.oScroll.sY)&&this.oApi._fnScrollDraw(t)},this.fnClearTable=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnClearTable(t),(e===undefined||e)&&_fnDraw(t)},this.fnClose=function(e){for(var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),n=0;t.aoOpenRows.length>n;n++)if(t.aoOpenRows[n].nParent==e){var a=t.aoOpenRows[n].nTr.parentNode;return a&&a.removeChild(t.aoOpenRows[n].nTr),t.aoOpenRows.splice(n,1),0}return 1},this.fnDeleteRow=function(e,t,n){var a,s,i,r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);i="object"==typeof e?_fnNodeToDataIndex(r,e):e;var o=r.aoData.splice(i,1);for(a=0,s=r.aoData.length;s>a;a++)null!==r.aoData[a].nTr&&(r.aoData[a].nTr._DT_RowIndex=a);var l=$.inArray(i,r.aiDisplay);return r.asDataSearch.splice(l,1),_fnDeleteIndex(r.aiDisplayMaster,i),_fnDeleteIndex(r.aiDisplay,i),"function"==typeof t&&t.call(this,r,o),r._iDisplayStart>=r.fnRecordsDisplay()&&(r._iDisplayStart-=r._iDisplayLength,0>r._iDisplayStart&&(r._iDisplayStart=0)),(n===undefined||n)&&(_fnCalculateEnd(r),_fnDraw(r)),o},this.fnDestroy=function(e){var t,n,a=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),s=a.nTableWrapper.parentNode,i=a.nTBody;if(e=e===undefined?!1:e,a.bDestroying=!0,_fnCallbackFire(a,"aoDestroyCallback","destroy",[a]),!e)for(t=0,n=a.aoColumns.length;n>t;t++)a.aoColumns[t].bVisible===!1&&this.fnSetColumnVis(t,!0);for($(a.nTableWrapper).find("*").andSelf().unbind(".DT"),$("tbody>tr>td."+a.oClasses.sRowEmpty,a.nTable).parent().remove(),a.nTable!=a.nTHead.parentNode&&($(a.nTable).children("thead").remove(),a.nTable.appendChild(a.nTHead)),a.nTFoot&&a.nTable!=a.nTFoot.parentNode&&($(a.nTable).children("tfoot").remove(),a.nTable.appendChild(a.nTFoot)),a.nTable.parentNode.removeChild(a.nTable),$(a.nTableWrapper).remove(),a.aaSorting=[],a.aaSortingFixed=[],_fnSortingClasses(a),$(_fnGetTrNodes(a)).removeClass(a.asStripeClasses.join(" ")),$("th, td",a.nTHead).removeClass([a.oClasses.sSortable,a.oClasses.sSortableAsc,a.oClasses.sSortableDesc,a.oClasses.sSortableNone].join(" ")),a.bJUI&&($("th span."+a.oClasses.sSortIcon+", td span."+a.oClasses.sSortIcon,a.nTHead).remove(),$("th, td",a.nTHead).each(function(){var e=$("div."+a.oClasses.sSortJUIWrapper,this),t=e.contents();$(this).append(t),e.remove()})),!e&&a.nTableReinsertBefore?s.insertBefore(a.nTable,a.nTableReinsertBefore):e||s.appendChild(a.nTable),t=0,n=a.aoData.length;n>t;t++)null!==a.aoData[t].nTr&&i.appendChild(a.aoData[t].nTr);if(a.oFeatures.bAutoWidth===!0&&(a.nTable.style.width=_fnStringToCss(a.sDestroyWidth)),n=a.asDestroyStripes.length){var r=$(i).children("tr");for(t=0;n>t;t++)r.filter(":nth-child("+n+"n + "+t+")").addClass(a.asDestroyStripes[t])}for(t=0,n=DataTable.settings.length;n>t;t++)DataTable.settings[t]==a&&DataTable.settings.splice(t,1);a=null,oInit=null},this.fnDraw=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);e===!1?(_fnCalculateEnd(t),_fnDraw(t)):_fnReDraw(t)},this.fnFilter=function(e,t,n,a,s,i){var r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(r.oFeatures.bFilter)if((n===undefined||null===n)&&(n=!1),(a===undefined||null===a)&&(a=!0),(s===undefined||null===s)&&(s=!0),(i===undefined||null===i)&&(i=!0),t===undefined||null===t){if(_fnFilterComplete(r,{sSearch:e+"",bRegex:n,bSmart:a,bCaseInsensitive:i},1),s&&r.aanFeatures.f)for(var o=r.aanFeatures.f,l=0,c=o.length;c>l;l++)try{o[l]._DT_Input!=document.activeElement&&$(o[l]._DT_Input).val(e)}catch(u){$(o[l]._DT_Input).val(e)}}else $.extend(r.aoPreSearchCols[t],{sSearch:e+"",bRegex:n,bSmart:a,bCaseInsensitive:i}),_fnFilterComplete(r,r.oPreviousSearch,1)},this.fnGetData=function(e,t){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(e!==undefined){var a=e;if("object"==typeof e){var s=e.nodeName.toLowerCase();"tr"===s?a=_fnNodeToDataIndex(n,e):"td"===s&&(a=_fnNodeToDataIndex(n,e.parentNode),t=_fnNodeToColumnIndex(n,a,e))}return t!==undefined?_fnGetCellData(n,a,t,""):n.aoData[a]!==undefined?n.aoData[a]._aData:null}return _fnGetDataMaster(n)},this.fnGetNodes=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);return e!==undefined?t.aoData[e]!==undefined?t.aoData[e].nTr:null:_fnGetTrNodes(t)},this.fnGetPosition=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),n=e.nodeName.toUpperCase();if("TR"==n)return _fnNodeToDataIndex(t,e);if("TD"==n||"TH"==n){var a=_fnNodeToDataIndex(t,e.parentNode),s=_fnNodeToColumnIndex(t,a,e);return[a,_fnColumnIndexToVisible(t,s),s]}return null},this.fnIsOpen=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);t.aoOpenRows;for(var n=0;t.aoOpenRows.length>n;n++)if(t.aoOpenRows[n].nParent==e)return!0;return!1},this.fnOpen=function(e,t,n){var a=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),s=_fnGetTrNodes(a);if(-1!==$.inArray(e,s)){this.fnClose(e);var i=document.createElement("tr"),r=document.createElement("td");i.appendChild(r),r.className=n,r.colSpan=_fnVisbleColumns(a),"string"==typeof t?r.innerHTML=t:$(r).html(t);var o=$("tr",a.nTBody);return-1!=$.inArray(e,o)&&$(i).insertAfter(e),a.aoOpenRows.push({nTr:i,nParent:e}),i}},this.fnPageChange=function(e,t){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnPageChange(n,e),_fnCalculateEnd(n),(t===undefined||t)&&_fnDraw(n)},this.fnSetColumnVis=function(e,t,n){var a,s,i,r,o,l=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),c=l.aoColumns,u=l.aoData;if(c[e].bVisible!=t){if(t){var h=0;for(a=0;e>a;a++)c[a].bVisible&&h++;if(r=h>=_fnVisbleColumns(l),!r)for(a=e;c.length>a;a++)if(c[a].bVisible){o=a;break}for(a=0,s=u.length;s>a;a++)null!==u[a].nTr&&(r?u[a].nTr.appendChild(u[a]._anHidden[e]):u[a].nTr.insertBefore(u[a]._anHidden[e],_fnGetTdNodes(l,a)[o]))}else for(a=0,s=u.length;s>a;a++)null!==u[a].nTr&&(i=_fnGetTdNodes(l,a)[e],u[a]._anHidden[e]=i,i.parentNode.removeChild(i));for(c[e].bVisible=t,_fnDrawHead(l,l.aoHeader),l.nTFoot&&_fnDrawHead(l,l.aoFooter),a=0,s=l.aoOpenRows.length;s>a;a++)l.aoOpenRows[a].nTr.colSpan=_fnVisbleColumns(l);(n===undefined||n)&&(_fnAdjustColumnSizing(l),_fnDraw(l)),_fnSaveState(l)}},this.fnSettings=function(){return _fnSettingsFromNode(this[DataTable.ext.iApiIndex])},this.fnSort=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);t.aaSorting=e,_fnSort(t)},this.fnSortListener=function(e,t,n){_fnSortAttachListener(_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),e,t,n)},this.fnUpdate=function(e,t,n,a,s){var i,r,o=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),l="object"==typeof t?_fnNodeToDataIndex(o,t):t;if($.isArray(e)&&n===undefined)for(o.aoData[l]._aData=e.slice(),i=0;o.aoColumns.length>i;i++)this.fnUpdate(_fnGetCellData(o,l,i),l,i,!1,!1);else if($.isPlainObject(e)&&n===undefined)for(o.aoData[l]._aData=$.extend(!0,{},e),i=0;o.aoColumns.length>i;i++)this.fnUpdate(_fnGetCellData(o,l,i),l,i,!1,!1);else{_fnSetCellData(o,l,n,e),r=_fnGetCellData(o,l,n,"display");var c=o.aoColumns[n];null!==c.fnRender&&(r=_fnRender(o,l,n),c.bUseRendered&&_fnSetCellData(o,l,n,r)),null!==o.aoData[l].nTr&&(_fnGetTdNodes(o,l)[n].innerHTML=r)}var u=$.inArray(l,o.aiDisplay);return o.asDataSearch[u]=_fnBuildSearchRow(o,_fnGetRowData(o,l,"filter",_fnGetColumns(o,"bSearchable"))),(s===undefined||s)&&_fnAdjustColumnSizing(o),(a===undefined||a)&&_fnReDraw(o),0},this.fnVersionCheck=DataTable.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:_fnExternApiFunc,_fnInitialise:_fnInitialise,_fnInitComplete:_fnInitComplete,_fnLanguageCompat:_fnLanguageCompat,_fnAddColumn:_fnAddColumn,_fnColumnOptions:_fnColumnOptions,_fnAddData:_fnAddData,_fnCreateTr:_fnCreateTr,_fnGatherData:_fnGatherData,_fnBuildHead:_fnBuildHead,_fnDrawHead:_fnDrawHead,_fnDraw:_fnDraw,_fnReDraw:_fnReDraw,_fnAjaxUpdate:_fnAjaxUpdate,_fnAjaxParameters:_fnAjaxParameters,_fnAjaxUpdateDraw:_fnAjaxUpdateDraw,_fnServerParams:_fnServerParams,_fnAddOptionsHtml:_fnAddOptionsHtml,_fnFeatureHtmlTable:_fnFeatureHtmlTable,_fnScrollDraw:_fnScrollDraw,_fnAdjustColumnSizing:_fnAdjustColumnSizing,_fnFeatureHtmlFilter:_fnFeatureHtmlFilter,_fnFilterComplete:_fnFilterComplete,_fnFilterCustom:_fnFilterCustom,_fnFilterColumn:_fnFilterColumn,_fnFilter:_fnFilter,_fnBuildSearchArray:_fnBuildSearchArray,_fnBuildSearchRow:_fnBuildSearchRow,_fnFilterCreateSearch:_fnFilterCreateSearch,_fnDataToSearch:_fnDataToSearch,_fnSort:_fnSort,_fnSortAttachListener:_fnSortAttachListener,_fnSortingClasses:_fnSortingClasses,_fnFeatureHtmlPaginate:_fnFeatureHtmlPaginate,_fnPageChange:_fnPageChange,_fnFeatureHtmlInfo:_fnFeatureHtmlInfo,_fnUpdateInfo:_fnUpdateInfo,_fnFeatureHtmlLength:_fnFeatureHtmlLength,_fnFeatureHtmlProcessing:_fnFeatureHtmlProcessing,_fnProcessingDisplay:_fnProcessingDisplay,_fnVisibleToColumnIndex:_fnVisibleToColumnIndex,_fnColumnIndexToVisible:_fnColumnIndexToVisible,_fnNodeToDataIndex:_fnNodeToDataIndex,_fnVisbleColumns:_fnVisbleColumns,_fnCalculateEnd:_fnCalculateEnd,_fnConvertToWidth:_fnConvertToWidth,_fnCalculateColumnWidths:_fnCalculateColumnWidths,_fnScrollingWidthAdjust:_fnScrollingWidthAdjust,_fnGetWidestNode:_fnGetWidestNode,_fnGetMaxLenString:_fnGetMaxLenString,_fnStringToCss:_fnStringToCss,_fnDetectType:_fnDetectType,_fnSettingsFromNode:_fnSettingsFromNode,_fnGetDataMaster:_fnGetDataMaster,_fnGetTrNodes:_fnGetTrNodes,_fnGetTdNodes:_fnGetTdNodes,_fnEscapeRegex:_fnEscapeRegex,_fnDeleteIndex:_fnDeleteIndex,_fnReOrderIndex:_fnReOrderIndex,_fnColumnOrdering:_fnColumnOrdering,_fnLog:_fnLog,_fnClearTable:_fnClearTable,_fnSaveState:_fnSaveState,_fnLoadState:_fnLoadState,_fnCreateCookie:_fnCreateCookie,_fnReadCookie:_fnReadCookie,_fnDetectHeader:_fnDetectHeader,_fnGetUniqueThs:_fnGetUniqueThs,_fnScrollBarWidth:_fnScrollBarWidth,_fnApplyToChildren:_fnApplyToChildren,_fnMap:_fnMap,_fnGetRowData:_fnGetRowData,_fnGetCellData:_fnGetCellData,_fnSetCellData:_fnSetCellData,_fnGetObjectDataFn:_fnGetObjectDataFn,_fnSetObjectDataFn:_fnSetObjectDataFn,_fnApplyColumnDefs:_fnApplyColumnDefs,_fnBindAction:_fnBindAction,_fnExtend:_fnExtend,_fnCallbackReg:_fnCallbackReg,_fnCallbackFire:_fnCallbackFire,_fnJsonString:_fnJsonString,_fnRender:_fnRender,_fnNodeToColumnIndex:_fnNodeToColumnIndex,_fnInfoMacros:_fnInfoMacros,_fnBrowserDetect:_fnBrowserDetect,_fnGetColumns:_fnGetColumns},$.extend(DataTable.ext.oApi,this.oApi);for(var sFunc in DataTable.ext.oApi)sFunc&&(this[sFunc]=_fnExternApiFunc(sFunc));var _that=this;return this.each(function(){var e,t,n,a=0,s=this.getAttribute("id"),i=!1,r=!1;if("table"!=this.nodeName.toLowerCase())return _fnLog(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName),undefined;for(a=0,e=DataTable.settings.length;e>a;a++){if(DataTable.settings[a].nTable==this){if(oInit===undefined||oInit.bRetrieve)return DataTable.settings[a].oInstance;if(oInit.bDestroy){DataTable.settings[a].oInstance.fnDestroy();break}return _fnLog(DataTable.settings[a],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy"),undefined}if(DataTable.settings[a].sTableId==this.id){DataTable.settings.splice(a,1);break}}(null===s||""===s)&&(s="DataTables_Table_"+DataTable.ext._oExternConfig.iNextUnique++,this.id=s);var o=$.extend(!0,{},DataTable.models.oSettings,{nTable:this,oApi:_that.oApi,oInit:oInit,sDestroyWidth:$(this).width(),sInstance:s,sTableId:s});if(DataTable.settings.push(o),o.oInstance=1===_that.length?_that:$(this).dataTable(),oInit||(oInit={}),oInit.oLanguage&&_fnLanguageCompat(oInit.oLanguage),oInit=_fnExtend($.extend(!0,{},DataTable.defaults),oInit),_fnMap(o.oFeatures,oInit,"bPaginate"),_fnMap(o.oFeatures,oInit,"bLengthChange"),_fnMap(o.oFeatures,oInit,"bFilter"),_fnMap(o.oFeatures,oInit,"bSort"),_fnMap(o.oFeatures,oInit,"bInfo"),_fnMap(o.oFeatures,oInit,"bProcessing"),_fnMap(o.oFeatures,oInit,"bAutoWidth"),_fnMap(o.oFeatures,oInit,"bSortClasses"),_fnMap(o.oFeatures,oInit,"bServerSide"),_fnMap(o.oFeatures,oInit,"bDeferRender"),_fnMap(o.oScroll,oInit,"sScrollX","sX"),_fnMap(o.oScroll,oInit,"sScrollXInner","sXInner"),_fnMap(o.oScroll,oInit,"sScrollY","sY"),_fnMap(o.oScroll,oInit,"bScrollCollapse","bCollapse"),_fnMap(o.oScroll,oInit,"bScrollInfinite","bInfinite"),_fnMap(o.oScroll,oInit,"iScrollLoadGap","iLoadGap"),_fnMap(o.oScroll,oInit,"bScrollAutoCss","bAutoCss"),_fnMap(o,oInit,"asStripeClasses"),_fnMap(o,oInit,"asStripClasses","asStripeClasses"),_fnMap(o,oInit,"fnServerData"),_fnMap(o,oInit,"fnFormatNumber"),_fnMap(o,oInit,"sServerMethod"),_fnMap(o,oInit,"aaSorting"),_fnMap(o,oInit,"aaSortingFixed"),_fnMap(o,oInit,"aLengthMenu"),_fnMap(o,oInit,"sPaginationType"),_fnMap(o,oInit,"sAjaxSource"),_fnMap(o,oInit,"sAjaxDataProp"),_fnMap(o,oInit,"iCookieDuration"),_fnMap(o,oInit,"sCookiePrefix"),_fnMap(o,oInit,"sDom"),_fnMap(o,oInit,"bSortCellsTop"),_fnMap(o,oInit,"iTabIndex"),_fnMap(o,oInit,"oSearch","oPreviousSearch"),_fnMap(o,oInit,"aoSearchCols","aoPreSearchCols"),_fnMap(o,oInit,"iDisplayLength","_iDisplayLength"),_fnMap(o,oInit,"bJQueryUI","bJUI"),_fnMap(o,oInit,"fnCookieCallback"),_fnMap(o,oInit,"fnStateLoad"),_fnMap(o,oInit,"fnStateSave"),_fnMap(o.oLanguage,oInit,"fnInfoCallback"),_fnCallbackReg(o,"aoDrawCallback",oInit.fnDrawCallback,"user"),_fnCallbackReg(o,"aoServerParams",oInit.fnServerParams,"user"),_fnCallbackReg(o,"aoStateSaveParams",oInit.fnStateSaveParams,"user"),_fnCallbackReg(o,"aoStateLoadParams",oInit.fnStateLoadParams,"user"),_fnCallbackReg(o,"aoStateLoaded",oInit.fnStateLoaded,"user"),_fnCallbackReg(o,"aoRowCallback",oInit.fnRowCallback,"user"),_fnCallbackReg(o,"aoRowCreatedCallback",oInit.fnCreatedRow,"user"),_fnCallbackReg(o,"aoHeaderCallback",oInit.fnHeaderCallback,"user"),_fnCallbackReg(o,"aoFooterCallback",oInit.fnFooterCallback,"user"),_fnCallbackReg(o,"aoInitComplete",oInit.fnInitComplete,"user"),_fnCallbackReg(o,"aoPreDrawCallback",oInit.fnPreDrawCallback,"user"),o.oFeatures.bServerSide&&o.oFeatures.bSort&&o.oFeatures.bSortClasses?_fnCallbackReg(o,"aoDrawCallback",_fnSortingClasses,"server_side_sort_classes"):o.oFeatures.bDeferRender&&_fnCallbackReg(o,"aoDrawCallback",_fnSortingClasses,"defer_sort_classes"),oInit.bJQueryUI?($.extend(o.oClasses,DataTable.ext.oJUIClasses),oInit.sDom===DataTable.defaults.sDom&&"lfrtip"===DataTable.defaults.sDom&&(o.sDom='<"H"lfr>t<"F"ip>')):$.extend(o.oClasses,DataTable.ext.oStdClasses),$(this).addClass(o.oClasses.sTable),(""!==o.oScroll.sX||""!==o.oScroll.sY)&&(o.oScroll.iBarWidth=_fnScrollBarWidth()),o.iInitDisplayStart===undefined&&(o.iInitDisplayStart=oInit.iDisplayStart,o._iDisplayStart=oInit.iDisplayStart),oInit.bStateSave&&(o.oFeatures.bStateSave=!0,_fnLoadState(o,oInit),_fnCallbackReg(o,"aoDrawCallback",_fnSaveState,"state_save")),null!==oInit.iDeferLoading){o.bDeferLoading=!0;var l=$.isArray(oInit.iDeferLoading);o._iRecordsDisplay=l?oInit.iDeferLoading[0]:oInit.iDeferLoading,o._iRecordsTotal=l?oInit.iDeferLoading[1]:oInit.iDeferLoading}if(null!==oInit.aaData&&(r=!0),""!==oInit.oLanguage.sUrl?(o.oLanguage.sUrl=oInit.oLanguage.sUrl,$.getJSON(o.oLanguage.sUrl,null,function(e){_fnLanguageCompat(e),$.extend(!0,o.oLanguage,oInit.oLanguage,e),_fnInitialise(o)}),i=!0):$.extend(!0,o.oLanguage,oInit.oLanguage),null===oInit.asStripeClasses&&(o.asStripeClasses=[o.oClasses.sStripeOdd,o.oClasses.sStripeEven]),e=o.asStripeClasses.length,o.asDestroyStripes=[],e){var c=!1,u=$(this).children("tbody").children("tr:lt("+e+")");for(a=0;e>a;a++)u.hasClass(o.asStripeClasses[a])&&(c=!0,o.asDestroyStripes.push(o.asStripeClasses[a]));c&&u.removeClass(o.asStripeClasses.join(" "))}var h,d=[],f=this.getElementsByTagName("thead");if(0!==f.length&&(_fnDetectHeader(o.aoHeader,f[0]),d=_fnGetUniqueThs(o)),null===oInit.aoColumns)for(h=[],a=0,e=d.length;e>a;a++)h.push(null);else h=oInit.aoColumns;for(a=0,e=h.length;e>a;a++)oInit.saved_aoColumns!==undefined&&oInit.saved_aoColumns.length==e&&(null===h[a]&&(h[a]={}),h[a].bVisible=oInit.saved_aoColumns[a].bVisible),_fnAddColumn(o,d?d[a]:null);for(_fnApplyColumnDefs(o,oInit.aoColumnDefs,h,function(e,t){_fnColumnOptions(o,e,t)}),a=0,e=o.aaSorting.length;e>a;a++){o.aaSorting[a][0]>=o.aoColumns.length&&(o.aaSorting[a][0]=0);var p=o.aoColumns[o.aaSorting[a][0]];for(o.aaSorting[a][2]===undefined&&(o.aaSorting[a][2]=0),oInit.aaSorting===undefined&&o.saved_aaSorting===undefined&&(o.aaSorting[a][1]=p.asSorting[0]),t=0,n=p.asSorting.length;n>t;t++)if(o.aaSorting[a][1]==p.asSorting[t]){o.aaSorting[a][2]=t;break}}_fnSortingClasses(o),_fnBrowserDetect(o);var g=$(this).children("caption").each(function(){this._captionSide=$(this).css("caption-side")}),m=$(this).children("thead");0===m.length&&(m=[document.createElement("thead")],this.appendChild(m[0])),o.nTHead=m[0];var b=$(this).children("tbody");0===b.length&&(b=[document.createElement("tbody")],this.appendChild(b[0])),o.nTBody=b[0],o.nTBody.setAttribute("role","alert"),o.nTBody.setAttribute("aria-live","polite"),o.nTBody.setAttribute("aria-relevant","all");var S=$(this).children("tfoot");if(0===S.length&&g.length>0&&(""!==o.oScroll.sX||""!==o.oScroll.sY)&&(S=[document.createElement("tfoot")],this.appendChild(S[0])),S.length>0&&(o.nTFoot=S[0],_fnDetectHeader(o.aoFooter,o.nTFoot)),r)for(a=0;oInit.aaData.length>a;a++)_fnAddData(o,oInit.aaData[a]);else _fnGatherData(o);o.aiDisplay=o.aiDisplayMaster.slice(),o.bInitialised=!0,i===!1&&_fnInitialise(o)}),_that=null,this};DataTable.fnVersionCheck=function(e){for(var t=function(e,t){for(;t>e.length;)e+="0";return e},n=DataTable.ext.sVersion.split("."),a=e.split("."),s="",i="",r=0,o=a.length;o>r;r++)s+=t(n[r],3),i+=t(a[r],3);return parseInt(s,10)>=parseInt(i,10)},DataTable.fnIsDataTable=function(e){for(var t=DataTable.settings,n=0;t.length>n;n++)if(t[n].nTable===e||t[n].nScrollHead===e||t[n].nScrollFoot===e)return!0;return!1},DataTable.fnTables=function(e){var t=[];return jQuery.each(DataTable.settings,function(n,a){(!e||e===!0&&$(a.nTable).is(":visible"))&&t.push(a.nTable)}),t},DataTable.version="1.9.4",DataTable.settings=[],DataTable.models={},DataTable.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:DataTable.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:DataTable.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},DataTable.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},DataTable.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},DataTable.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},DataTable.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(1e3>e)return e;for(var t=e+"",n=t.split(""),a="",s=t.length,i=0;s>i;i++)0===i%3&&0!==i&&(a=this.oLanguage.sInfoThousands+a),a=n[s-i-1]+a;return a},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(e,t,n,a){a.jqXHR=$.ajax({url:e,data:t,success:function(e){e.sError&&a.oApi._fnLog(a,0,e.sError),$(a.oInstance).trigger("xhr",[a,e]),n(e)},dataType:"json",cache:!1,type:a.sServerMethod,error:function(e,t){"parsererror"==t&&a.oApi._fnLog(a,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(oSettings){var sData=this.oApi._fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance),oData;try{oData="function"==typeof $.parseJSON?$.parseJSON(sData):eval("("+sData+")")}catch(e){oData=null}return oData},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(e,t){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(t),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:$.extend({},DataTable.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"},DataTable.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},DataTable.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?this.oFeatures.bPaginate===!1||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null},DataTable.ext=$.extend(!0,{},DataTable.models.ext),$.extend(DataTable.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""}),$.extend(DataTable.ext.oJUIClasses,DataTable.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}),$.extend(DataTable.ext.oPagination,{two_button:{fnInit:function(e,t,n){var a=e.oLanguage.oPaginate;e.oClasses;var s=function(t){e.oApi._fnPageChange(e,t.data.action)&&n(e)},i=e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a>'+'<a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>':'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+a.sPrevious+"</a>"+'<a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+a.sNext+"</a>";$(t).append(i);var r=$("a",t),o=r[0],l=r[1];e.oApi._fnBindAction(o,{action:"previous"},s),e.oApi._fnBindAction(l,{action:"next"},s),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",o.id=e.sTableId+"_previous",l.id=e.sTableId+"_next",o.setAttribute("aria-controls",e.sTableId),l.setAttribute("aria-controls",e.sTableId))},fnUpdate:function(e){if(e.aanFeatures.p)for(var t,n=e.oClasses,a=e.aanFeatures.p,s=0,i=a.length;i>s;s++)t=a[s].firstChild,t&&(t.className=0===e._iDisplayStart?n.sPagePrevDisabled:n.sPagePrevEnabled,t=t.nextSibling,t.className=e.fnDisplayEnd()==e.fnRecordsDisplay()?n.sPageNextDisabled:n.sPageNextEnabled)
}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,t,n){var a=e.oLanguage.oPaginate,s=e.oClasses,i=function(t){e.oApi._fnPageChange(e,t.data.action)&&n(e)};$(t).append('<a  tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageFirst+'">'+a.sFirst+"</a>"+'<a  tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPagePrevious+'">'+a.sPrevious+"</a>"+"<span></span>"+'<a tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageNext+'">'+a.sNext+"</a>"+'<a tabindex="'+e.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageLast+'">'+a.sLast+"</a>");var r=$("a",t),o=r[0],l=r[1],c=r[2],u=r[3];e.oApi._fnBindAction(o,{action:"first"},i),e.oApi._fnBindAction(l,{action:"previous"},i),e.oApi._fnBindAction(c,{action:"next"},i),e.oApi._fnBindAction(u,{action:"last"},i),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",o.id=e.sTableId+"_first",l.id=e.sTableId+"_previous",c.id=e.sTableId+"_next",u.id=e.sTableId+"_last")},fnUpdate:function(e,t){if(e.aanFeatures.p){var n,a,s,i,r,o,l,c=DataTable.ext.oPagination.iFullNumbersShowPages,u=Math.floor(c/2),h=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),d=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,f="",p=e.oClasses,g=e.aanFeatures.p,m=function(a){e.oApi._fnBindAction(this,{page:a+n-1},function(n){e.oApi._fnPageChange(e,n.data.page),t(e),n.preventDefault()})};for(-1===e._iDisplayLength?(n=1,a=1,d=1):c>h?(n=1,a=h):u>=d?(n=1,a=c):d>=h-u?(n=h-c+1,a=h):(n=d-Math.ceil(c/2)+1,a=n+c-1),s=n;a>=s;s++)f+=d!==s?'<a tabindex="'+e.iTabIndex+'" class="'+p.sPageButton+'">'+e.fnFormatNumber(s)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+p.sPageButtonActive+'">'+e.fnFormatNumber(s)+"</a>";for(s=0,i=g.length;i>s;s++)l=g[s],l.hasChildNodes()&&($("span:eq(0)",l).html(f).children("a").each(m),r=l.getElementsByTagName("a"),o=[r[0],r[1],r[r.length-2],r[r.length-1]],$(o).removeClass(p.sPageButton+" "+p.sPageButtonActive+" "+p.sPageButtonStaticDisabled),$([o[0],o[1]]).addClass(1==d?p.sPageButtonStaticDisabled:p.sPageButton),$([o[2],o[3]]).addClass(0===h||d===h||-1===e._iDisplayLength?p.sPageButtonStaticDisabled:p.sPageButton))}}}}),$.extend(DataTable.ext.oSort,{"string-pre":function(e){return"string"!=typeof e&&(e=null!==e&&e.toString?""+e:""),e.toLowerCase()},"string-asc":function(e,t){return t>e?-1:e>t?1:0},"string-desc":function(e,t){return t>e?1:e>t?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(e,t){return t>e?-1:e>t?1:0},"html-desc":function(e,t){return t>e?1:e>t?-1:0},"date-pre":function(e){var t=Date.parse(e);return(isNaN(t)||""===t)&&(t=Date.parse("01/01/1970 00:00:00")),t},"date-asc":function(e,t){return e-t},"date-desc":function(e,t){return t-e},"numeric-pre":function(e){return"-"==e||""===e?0:1*e},"numeric-asc":function(e,t){return e-t},"numeric-desc":function(e,t){return t-e}}),$.extend(DataTable.ext.aTypes,[function(e){if("number"==typeof e)return"numeric";if("string"!=typeof e)return null;var t,n="0123456789-",a="0123456789.",s=!1;if(t=e.charAt(0),-1==n.indexOf(t))return null;for(var i=1;e.length>i;i++){if(t=e.charAt(i),-1==a.indexOf(t))return null;if("."==t){if(s)return null;s=!0}}return"numeric"},function(e){var t=Date.parse(e);return null!==t&&!isNaN(t)||"string"==typeof e&&0===e.length?"date":null},function(e){return"string"==typeof e&&-1!=e.indexOf("<")&&-1!=e.indexOf(">")?"html":null}]),$.fn.DataTable=DataTable,$.fn.dataTable=DataTable,$.fn.dataTableSettings=DataTable.settings,$.fn.dataTableExt=DataTable.ext})}(window,document),jQuery.fn.externalLinkify=function(){return this.each(function(){$target=$(this),$target.find("a[href^=http]:not([href*=theloop])").not("[href*=xls]").attr("target","_blank"),$target.find('a[target="_blank"]:not([title])').attr("title","This link will open in a new window"),$target.find("img.externalLink").remove(),$target.find("a.[href^=http]:not([href*=theloop])").not("a[href$=pdf]").not("a[href$=pdf]").append('<img class="externalLink" src="/ssrc/PublishingImages/icons/iconExternalLink.gif" align="absmiddle" title="Clicking on this link leave The Loop" style="margin-left:3px;"/>')})};var L_Menu_BaseUrl=L_Menu_BaseUrl||"";jQuery(function(e){function t(e){if(!e)return"";var t=e.match(/([^,]*), (.*)/);return t?'<a href="'+t[1]+'">'+t[2]+"</a>":""}function n(e){var t=r.data("slugList"),n=t[e];return r.fnGetData(n)[3]}function a(t){var n=o(t);e("#procedurePanel").html(n)}function s(){e("#procedure-pulltab").hide(),e("#procedures_wrapper").slideDown()}function i(){e("#procedure-pulltab").show(),e("#procedures_wrapper").slideUp()}var r=e("#procedures"),o=Handlebars.compile(e("#procedure-template").html());window.onhashchange=function(){var e=History.getHash();if(e){var t=n(e);a(t),i()}},e(window).on("proceduresReady",function(){var e=History.getHash();if(e){var t=n(e);a(t),i()}}),e.getJSON(L_Menu_BaseUrl+"/_vti_bin/listdata.svc/Procedures",function(n){function a(e,t){return'<a href="#'+t+'" class="policy">'+e+"</a>"}var i={},o=e.map(n.d.results,function(n,s){function r(t,n){e(n).find("a").each(function(){t.push('<a href="'+this.href+'">'+this.innerText+"</a>")})}var o=n.Topic,l=string_to_slug(o),c=[],u={title:o,text:n.Policy||"no procedure yet",slug:l,qrg:t(n.QRG),olr:t(n.OLR),links:c};return u.topics=e.map(n.Topics.results,function(e){return e.Value}),i[l]=s,n.QRG&&c.push(u.qrg),n.OLR&&c.push(u.olr),n.EAAct&&r(c,n.EAAct),n.EARegulations&&r(c,n.EARegulations),n.EAWPAct&&r(c,n.EAWPAct),n.EAPWDRegulations&&r(c,n.EAPWDRegulations),[[a(o,l),u.topics.join(", "),u.text,u]]});r.show().data("slugList",i).dataTable({bJQueryUI:!0,aaData:o,oLanguage:{sSearch:"Search Content:"},aoColumns:[{sType:"html"},null,{bVisible:!1},{bVisible:!1}]}),e("#procedure-pulltab").hide().button({icons:{primary:"ui-icon-triangle-1-s"}}).toggleClass("ui-corner-all ui-corner-bottom").on("click",s),e(window).trigger("proceduresReady"),e.getJSON(L_Menu_BaseUrl+"/_vti_bin/listdata.svc/ProceduresTopics",function(t){var n=e.map(t.d.results,function(e){return{id:e.Value,text:e.Value}});e('<div id="topic-filter">').insertAfter("#procedures_length").select2({data:n,placeholder:"Filter by topic...",allowClear:!0,multiple:!0,width:200}).on("change",function(e){var t=e.val.join(" ");r.fnFilter(t,1)})})})});